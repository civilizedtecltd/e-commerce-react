{"version":3,"sources":["pages/LoaderSm.jsx","pages/PaymentSuccess.jsx"],"names":["LoaderSm","size","className","clr","style","height","width","version","x","y","viewBox","xmlSpace","fill","d","attributeType","attributeName","type","from","to","dur","repeatCount","connect","dispatch","setRedirectToOrder","status","props","useState","msg","setMsg","ref","useParams","undefined","order_ref_decode","atob","useEffect","setAuthToken","order_ref","localStorage","getItem","user_mail","JSON","parse","axios","post","URL","_SET_PAY_SUCCESS","then","res","data","success","removeItem","setTimeout","window","top","location","href","origin"],"mappings":"yHAAA,sDAEe,SAASA,EAAT,GAAyD,IAArCC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,UAA8B,IAAnBC,WAAmB,MAAb,UAAa,EACrE,OACE,yBACED,UAAWA,EACXE,MAAO,CAAEC,OAAQJ,EAAMK,MAAOL,IAE9B,yBACEM,QAAQ,MACRH,MAAO,CAAEC,OAAQJ,EAAMK,MAAOL,GAC9BO,EAAE,MACFC,EAAE,MACFC,QAAQ,YACRC,SAAS,YAGT,0BACEC,KAAMT,EACNU,EAAE,49CAeF,sCACEC,cAAc,MACdC,cAAc,YACdC,KAAK,SACLC,KAAK,UACLC,GAAG,YACHC,IAAI,OACJC,YAAY,oB,oJC+BTC,sBAAQ,MAHI,SAAAC,GAAQ,MAAK,CACtCC,mBAAoB,SAACC,GAAD,OAAYF,EAASC,YAAmBC,QAE/CH,EA9Df,SAAwBI,GAAQ,IAAD,EACPC,mBAAS,MADF,mBACtBC,EADsB,KACjBC,EADiB,KAEvBC,EAAQC,cAARD,SACME,IAARF,IACFA,EAAM,IAER,IAAMG,EAAmBC,KAAKJ,GA+B9B,OA7BAK,qBAAU,WACRC,cACA,IAAMC,EAAYH,KAAKA,KAAKI,aAAaC,QAAQ,OAAS,KACpDC,EAAYC,KAAKC,MAAMJ,aAAaC,QAAQ,aAE9CN,IAAqBI,GAEvBM,IAAMC,KAAKC,IAAIC,iBAAkB,CAAET,YAAWG,cAC3CO,MAAK,SAAAC,GACAA,EAAIC,MAAQD,EAAIC,KAAKC,SACvBrB,EAAO,GACPS,aAAaa,WAAW,MACxBb,aAAaa,WAAW,YACxBC,YAAW,WACVC,OAAOC,IAAIC,SAASC,KAApB,UAA8BH,OAAOE,SAASE,OAA9C,eACE,OAEHnB,aAAaa,WAAW,MACxBb,aAAaa,WAAW,YACxBtB,EAAO,GACPuB,YAAW,WACTC,OAAOC,IAAIC,SAASC,KAApB,UAA8BH,OAAOE,SAASE,OAA9C,eACC,WAKV,CAACxB,IAGF,6BACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACW,IAARL,GACC,wBAAIzB,UAAU,oBAAd,mCAAiE,uBAAGqD,KAAK,YAAR,eAE1D,IAAR5B,GACC,wBAAIzB,UAAU,gCAAd,mEAEAyB,GAAO,oCACP,wBAAIzB,UAAU,eAAd,mBACA,yBAAKA,UAAU,oDACb,kBAAC,IAAD,CAAUD,KAAK,MAAME,IAAI","file":"static/js/25.080f4f0c.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function LoaderSm({ size, className, clr = '#0a8dff' }) {\n  return (\n    <div\n      className={className}\n      style={{ height: size, width: size }}\n    >\n      <svg\n        version=\"1.1\"\n        style={{ height: size, width: size }}\n        x=\"0px\"\n        y=\"0px\"\n        viewBox=\"0 0 80 80\"\n        xmlSpace=\"preserve\"\n      >\n\n        <path\n          fill={clr}\n          d=\"M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1\n        c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1\n        c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1\n        l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5\n        c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1\n        c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9\n        c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9\n        c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2\n        c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9\n        c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1\n        c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7\n        c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1\n        c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z\"\n        >\n\n          <animateTransform\n            attributeType=\"xml\"\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 40 40\"\n            to=\"360 40 40\"\n            dur=\"0.6s\"\n            repeatCount=\"indefinite\"\n          />\n        </path>\n      </svg>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { URL } from '../constants/config'\r\nimport { setAuthToken } from '../helpers/setAuthToken'\r\nimport LoaderSm from './LoaderSm'\r\nimport { connect } from 'react-redux'\r\nimport { setRedirectToOrder } from '../redux/actions/siteActions'\r\n\r\nfunction PaymentSuccess(props) {\r\n  const [msg, setMsg] = useState(null)\r\n  let { ref } = useParams()\r\n  if (ref === undefined) {\r\n    ref = \"\"\r\n  }\r\n  const order_ref_decode = atob(ref)\r\n\r\n  useEffect(() => {\r\n    setAuthToken();\r\n    const order_ref = atob(atob(localStorage.getItem('or') || ''))\r\n    const user_mail = JSON.parse(localStorage.getItem('usr_mail'))\r\n\r\n    if (order_ref_decode === order_ref) {\r\n\r\n      axios.post(URL._SET_PAY_SUCCESS, { order_ref, user_mail })\r\n        .then(res => {\r\n          if (res.data && res.data.success) {\r\n            setMsg(1)\r\n            localStorage.removeItem('or')\r\n            localStorage.removeItem('usr_mail')\r\n            setTimeout(() => {\r\n             window.top.location.href = `${window.location.origin}/my-order`\r\n            }, 3000);\r\n          } else {\r\n            localStorage.removeItem('or')\r\n            localStorage.removeItem('usr_mail')\r\n            setMsg(2)\r\n            setTimeout(() => {\r\n              window.top.location.href = `${window.location.origin}/my-order`\r\n            }, 3000);\r\n          }\r\n        })\r\n\r\n    }\r\n  }, [order_ref_decode])\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col>\r\n          {msg === 1 &&\r\n            <h2 className=\"mt-4 text-center\">Payment Success, Redirecting to <a href=\"/my-oder\">Your Order</a></h2>\r\n          }\r\n          {msg === 2 &&\r\n            <h2 className=\"mt-4 text-center text-danger\">Error Occured, Please Contact with us about your payment issue</h2>\r\n          }\r\n          {!msg && <>\r\n            <h2 className=\"text-center\">Please Wait... </h2>\r\n            <div className=\"d-flex align-items-center justify-content-center\">\r\n              <LoaderSm size=\"100\" clr=\"#3897cf\" />\r\n            </div>\r\n          </>\r\n          }\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  setRedirectToOrder: (status) => dispatch(setRedirectToOrder(status)),\r\n})\r\nexport default connect(null, mapDispatchToProps)(PaymentSuccess)\r\n"],"sourceRoot":""}
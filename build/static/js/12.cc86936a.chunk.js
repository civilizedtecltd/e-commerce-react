(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[12],{312:function(e,a,t){},314:function(e,a,t){"use strict";var r=t(0),n=t.n(r),c=t(97),l=t.n(c),m=t(118),s=t(18),i=t(20),o=t(19),u=t(9),d=t(8),E=t.n(d),p=function(e){var a=Object(r.useState)([]),t=Object(s.a)(a,2),c=t[0],d=t[1];return Object(r.useEffect)((function(){var e=new AbortController;return function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(u.a._GET_STAGE_FILTER).then((function(e){return d(e.data.categories)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){e.abort()}}),[]),n.a.createElement(n.a.Fragment,null,c?c.map((function(e,a){return n.a.createElement(i.a,{sm:"3",key:a},n.a.createElement("h3",{className:"cardWidgetTitle mb-3"},e.category),n.a.createElement("ul",{className:"cardWidgetList ".concat(1===a?"cardWidgetList2":""," text-center")},e.stage?e.stage.map((function(a,t){return n.a.createElement(o.c,{key:"primary-".concat(t),Title:a.stage,Url:"/shop/filter/category/".concat(e.id,"/stage/").concat(a.id)})})):""))})):"")};a.a=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p,null))}},321:function(e,a,t){"use strict";var r=t(2),n=t(4),c=t(5),l=t.n(c),m=t(0),s=t.n(m),i=t(10),o=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=s.a.forwardRef((function(e,a){var t=e.bsPrefix,c=e.className,m=e.striped,u=e.bordered,d=e.borderless,E=e.hover,p=e.size,f=e.variant,g=e.responsive,b=Object(n.a)(e,o),v=Object(i.a)(t,"table"),N=l()(c,v,f&&v+"-"+f,p&&v+"-"+p,m&&v+"-striped",u&&v+"-bordered",d&&v+"-borderless",E&&v+"-hover"),h=s.a.createElement("table",Object(r.a)({},b,{className:N,ref:a}));if(g){var y=v+"-responsive";return"string"===typeof g&&(y=y+"-"+g),s.a.createElement("div",{className:y},h)}return h}));a.a=u},390:function(e,a,t){"use strict";t.r(a);var r=t(3),n=t(18),c=t(0),l=t.n(c),m=t(11),s=t(6),i=t(46),o=t(53),u=t(20),d=t(170),E=t(297),p=t(113),f=t(321),g=t(63),b=t(60),v=t(61),N=t(62),h=t(171),y=(t(312),t(9),function(e){var a=function(a){var t=a.target.value<=0?1:a.target.value,r=a.target.id;return e.updateQty({id:r,qty:t})},t=function(a){return e.onDelete(a.target.id)};return l.a.createElement(f.a,{responsive:!0,className:"cardTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Goods"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Total"),l.a.createElement("th",null))),l.a.createElement("tbody",null,e.items.map((function(e,r){return l.a.createElement("tr",{key:r},l.a.createElement("td",null,l.a.createElement("div",{className:"cartProductDetails d-flex flex-fill align-items-center"},l.a.createElement("div",{className:"cartProductMedia bgGray "},l.a.createElement("img",{loading:"lazy",src:e.cover_images.img_1,alt:"book-cover"})),l.a.createElement("div",{className:"cartProductTitle"},l.a.createElement("h3",null,e.name)))),l.a.createElement("td",{className:"aligneMiddle",id:"price-".concat(e.id)},"Ksh ",e.price),l.a.createElement("td",{className:"cartQntN aligneMiddle"},l.a.createElement(p.a.Control,{type:"number",placeholder:"1",id:e.id,value:e.quantity,onChange:a})),l.a.createElement("td",{className:"aligneMiddle",id:"tp-".concat(e.id)},"Ksh ",e.amountPrice),l.a.createElement("td",{className:"aligneMiddle"},l.a.createElement(E.a,{className:"btn-dark",id:e.id,onClick:t},"Delete ",l.a.createElement("i",{className:"fas fa-times"}))))}))))}),C=t(95),P=t(314),x=t(115);a.default=Object(m.b)((function(e){return{cart:e.shop.cart,favorite:e.favorite,delivery:e.shop.deliveryMethod,promoInfo:e.shop.promo}}),(function(e){return{removeItem:function(a){return e(Object(x.g)(a))},updateItem:function(a){var t=a.id,r=a.qty;return e(Object(x.k)({id:t,qty:r}))},deleteAll:function(){return e(Object(x.d)())},getDeliveryMethods:function(){return e(Object(x.e)())},getPromoCodeInfo:function(a){return e(Object(x.f)(a))},getCurrencyExchangeRate:function(a){return e(Object(x.c)(a))}}}))((function(e){var a=Object(c.useState)({promo:""}),t=Object(n.a)(a,2),m=t[0],x=t[1],j=e.favorite.items,O=e.cart,k=0,I=e.delivery?e.delivery[0].price:0;0!==O.length&&O.map((function(e){return k+=e.amountPrice}));var D=e.promoInfo?e.promoInfo:{status:!1},T=k;if(D.status){var G=D.discount,S=D.upto;Number(k)<=Number(S)?T=k-k*(G/100):Number(k)>Number(S)&&(T=k-S)}var w=parseFloat(T)+parseFloat(I);Object(c.useEffect)((function(){return e.getDeliveryMethods()}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{loading:!1}),l.a.createElement("div",{className:"allWrapper"},l.a.createElement(b.a,{favorite_item:j.length,cartItem:O.length}),l.a.createElement(v.a,{favorite_item:j.length,cartItem:O.length}),l.a.createElement("main",{className:"mainContent clearfix",id:"mainContent"},l.a.createElement("section",{className:"sectionBreadcrumb secGap clearfix pb-0",id:"sectionBreadcrumb"},l.a.createElement(i.a,null,l.a.createElement(o.a,null,l.a.createElement(u.a,null,l.a.createElement(h.a,null))))),l.a.createElement("section",{className:"chooseCategory clearfix",id:"chooseCategory"},l.a.createElement(i.a,null,0===O.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement(u.a,null,l.a.createElement("div",{className:"contentArea text-center mt-5 mb-5"},l.a.createElement("h2",{className:"sectionTitle mb-3"},"Your cart is ",l.a.createElement("span",null," empty ")),l.a.createElement("p",null,"It\u2019s not a problem. Just choose a category you\u2019re interested in and add goods to favorites list")))),l.a.createElement(o.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,{className:"border-0"},l.a.createElement(d.a.Body,{className:"p-0"},l.a.createElement("div",{className:"cardContentDetails pt-5 pb-5 mb-5 bgGray clearfix"},l.a.createElement(o.a,null,l.a.createElement(P.a,null)))))))):l.a.createElement("section",{className:"cartSection clearfix",id:"cartSection"},l.a.createElement(i.a,null,l.a.createElement(o.a,null,l.a.createElement(u.a,null,l.a.createElement(d.a,{className:"table-responsive border-0 cartTableBody"},l.a.createElement(d.a.Body,{className:"p-0"},l.a.createElement(y,{items:O,updateQty:function(a){var t=a.id,r=a.qty;e.updateItem({id:t,qty:r})},onDelete:function(a){return O.find((function(t){Number(t.id)===Number(a)&&e.removeItem(t.id)}))}}))))),l.a.createElement(o.a,null,l.a.createElement(u.a,null,l.a.createElement(E.a,{variant:"danger",className:"btnGraySm btnDeleteall",onClick:function(a){a.preventDefault(),e.deleteAll()}},"Delete all ",l.a.createElement("i",{className:"fas fa-times"}))),l.a.createElement(u.a,null,l.a.createElement(p.a,{className:"form-inline cartPromo justify-content-end"},l.a.createElement(p.a.Group,{controlId:"formBasicPassword"},l.a.createElement(p.a.Control,{type:"text",name:"promo-code",placeholder:"Promo Code",value:D.code,onChange:function(e){x(Object(r.a)(Object(r.a)({},m),{},{promo:e.target.value}))}})),l.a.createElement(E.a,{type:"submit",className:"ml-2",onClick:function(a){a.preventDefault(),e.getPromoCodeInfo(m.promo)}},"Apply")))),l.a.createElement(o.a,{className:"justify-content-end text-right mt-4 mb-5"},l.a.createElement(u.a,{sm:"4"},l.a.createElement("div",{className:"cartProductPrice"},l.a.createElement(f.a,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"priceCartPage"},"Price"),l.a.createElement("td",{className:"priceCartPage"},"........................................."),l.a.createElement("td",{className:"text-right priceCartPage"},l.a.createElement("span",{className:"priceCartPage"},"Ksh ",k))),D.status?l.a.createElement("tr",null,l.a.createElement("td",{className:"priceCartPage"},"Price after Discount"),l.a.createElement("td",{className:"priceCartPage"},"........................................."),l.a.createElement("td",{className:"text-right priceCartPage"},l.a.createElement("span",{className:"priceCartPage"},"Ksh ",T))):l.a.createElement(l.a.Fragment,null),l.a.createElement("tr",null,l.a.createElement("td",{className:"priceCartPage"},"Delivery"),l.a.createElement("td",{className:"priceCartPage"},"........................................."),l.a.createElement("td",{className:"text-right priceCartPage"},l.a.createElement("span",{className:"priceCartPage"},"Ksh ",I))),l.a.createElement("tr",null,l.a.createElement("td",{className:"priceCartPage"},"Total"),l.a.createElement("td",{className:"priceCartPage"},"........................................."),l.a.createElement("td",{className:"text-right priceCartPage"}," ",l.a.createElement("span",{className:"priceCartPage",id:"grand-total"},"Ksh ",w))))),l.a.createElement(s.Link,{to:"/checkout",className:"btn btn-primary",style:{color:"white"},onClick:function(a){e.getCurrencyExchangeRate("USD")}},"Checkout")))))))),l.a.createElement("section",{className:"mailSubscribe clearfix sectionBgImage sectionBgImg01 secGap",id:"mailSubscribe"},l.a.createElement(i.a,{className:"container"},l.a.createElement(N.a,null)))),l.a.createElement(g.a,null)))}))}}]);
//# sourceMappingURL=12.cc86936a.chunk.js.map
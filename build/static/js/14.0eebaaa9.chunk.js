(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[14],{320:function(e,a,t){"use strict";var n=t(0),c=t.n(n),l=t(20),r=t(125),m=t(321);a.a=function(){return c.a.createElement(l.a,{sm:"2"},c.a.createElement("aside",{className:"userAsideBar pt-3 clearfix shadow",id:"userAsideBar"},c.a.createElement("nav",{className:"userNav"},c.a.createElement("ul",{className:"userNavBar"},m.map((function(e,a){return c.a.createElement(r.a,{key:a,NavItem:e.nav_item,ClassName:e.class,Title:e.title,Url:e.url,IconName:e.icon_name,ActiveClassName:e.active_link})}))))))}},321:function(e){e.exports=JSON.parse('[{"nav_item":"nav-item","url":"my-order","icon_name":"fas fa-clipboard-list","title":"My orders","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"payment-methods","icon_name":"fas fa-wallet","title":"Payment methods","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"profile-settings","icon_name":"fas fa-cog","title":"Profile settings","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"email-subscription","icon_name":"far fa-envelope","title":"Email subscription","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"logout","icon_name":"fas fa-sign-out-alt","title":"Log out","class":"nav-link","active_link":"active"}]')},323:function(e,a,t){},408:function(e,a,t){"use strict";t.r(a);var n=t(14),c=t(15),l=t(0),r=t.n(l),m=t(11),s=t(37),i=t.n(s),u=t(55),o=t(56),d=t(20),E=t(180),b=t(337),v=t(306),f=t(95),p=t(117),y=t(338),_=t(41),N=t(63),h=t(64),g=t(320),j=t(3),O=t(350),C=t(414),k=t(118),B=t(179);var A=function(e){var a=Object(l.useState)(!1),t=Object(c.a)(a,2),n=t[0],m=t[1],s=Object(l.useState)("This information is not valid!"),i=Object(c.a)(s,2),u=i[0],b=i[1],f=Object(l.useState)({}),_=Object(c.a)(f,2),N=_[0],h=_[1],g=Object(l.useState)(!1),O=Object(c.a)(g,2),C=O[0],A=O[1],I=function(e){A(!1),h(Object(j.a)(Object(j.a)({},N),{},Object(k.a)({},e.target.name,e.target.value)))};return r.a.createElement(E.a.Body,{className:"addPaymentCard m-0 p-0"},r.a.createElement(o.a,null,r.a.createElement(d.a,{className:"p-0"},r.a.createElement(p.a,{className:"selectPaymentOption"},r.a.createElement("div",{className:"formRadioGroup bgGray mb-2"},r.a.createElement("div",{className:"payInfoDetails clearfix"},r.a.createElement("div",{className:"m-2"},r.a.createElement(B.a,{show:n,variant:"danger",onClose:function(){return m(!1)},dismissible:!0},r.a.createElement("p",null,u))),r.a.createElement("div",{className:"cardInfoForm p-3"},r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(d.a,{sm:"10"},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Card number"),r.a.createElement(y.a,{format:"#### #### #### ####",placeholder:"____ ____ ____ ____",mask:["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_"],name:"card_number",className:"form-control",value:C?" ":N.card_number,onChange:I}))),r.a.createElement(d.a,null,r.a.createElement("img",{loading:"lazy",src:"",alt:"none"}))),r.a.createElement(o.a,{className:"align-items-center justify-content-between"},r.a.createElement(d.a,{sm:"4"},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Expiry date"),r.a.createElement("ul",{className:"cardPayFiled d-flex align-items-center justify-content-start"},r.a.createElement("li",{className:"width-45"},r.a.createElement(y.a,{id:"card-mm",format:function(e){return function(e,a){return 1===e.length&&e[0]>a[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>a&&(e=a)),e}(e.substring(0,2),"12")},placeholder:"MM",mask:["M","M"],name:"mm",value:C?" ":N.mm,onChange:I})),r.a.createElement("li",{className:"cardBl"},"/"),r.a.createElement("li",{className:"width-45"},r.a.createElement(y.a,{id:"card-yy",format:function(e){return e.substring(0,2)},placeholder:"YY",mask:["Y","Y"],name:"yy",value:C?" ":N.yy,onChange:I}))))),r.a.createElement(d.a,{sm:{offset:4}},r.a.createElement(p.a.Group,{controlId:"card-cvv",className:"ccv-group"},r.a.createElement(p.a.Label,{className:"ccv-input"}," CVV "),r.a.createElement(y.a,{type:"text",id:"card-cvv",name:"ccv",format:"###",placeholder:"CVV",value:C?" ":N.ccv,onChange:I}))),r.a.createElement(d.a,{sm:"2"},r.a.createElement("img",{loading:"lazy",src:"",alt:"none"}))),r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement(v.a,{variant:"primary",type:"submit",onClick:function(a){return a.preventDefault(),N.card_number||N.mm||N.yy||N.ccv?N.card_number&&isNaN(Number(N.card_number[18]))?(b("Card Number should be 16 digit"),m(!0),setTimeout((function(){return m(!1)}),2e3)):N.card_number?N.mm?N.yy?N.ccv?void(N.card_number&&N.mm&&N.yy&&N.ccv&&(e.callback(N),A(!0))):(b("CVV should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(b("YY should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(b("MM should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(b("Card Number should not empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(b("Field should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3))}},"Add"))))))))))};function I(e){var a=e.children,t=e.eventKey,n=e.title,c=(e.name,Object(O.b)(t,(function(){1===t&&(document.getElementById("ch-2").checked=!1,document.getElementById("ch-3").checked=!1),2===t&&(document.getElementById("ch-1").checked=!1,document.getElementById("ch-3").checked=!1),3===t&&(document.getElementById("ch-1").checked=!1,document.getElementById("ch-2").checked=!1)})));return r.a.createElement(p.a.Check,{custom:!0,className:"ml-3",type:"radio",label:n,name:"payment",id:"ch-".concat(t),onClick:c},a)}var S=Object(m.b)(null,(function(e){return{setPayment:function(a){return e(Object(_.j)(a))}}}))((function(e){var a=Object(l.useState)({}),t=Object(c.a)(a,2),n=t[0],m=t[1],s=function(a){var t=Object(j.a)(Object(j.a)({},n),a);e.setPayment(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{defaultActiveKey:"0",onSelect:function(e){switch(Number(e)){case 1:m({payment_type:"MPESA"});break;case 2:m({payment_type:"VISA"});break;case 3:m({payment_type:"PAYPAL"});break;default:m(Object(j.a)({},n))}}},r.a.createElement("div",{className:"payment-header-card mt-3"},r.a.createElement(I,{eventKey:"1",title:"Mpesa"})),r.a.createElement(C.a.Collapse,{eventKey:"1"},r.a.createElement(A,{callback:s})),r.a.createElement("div",{className:"payment-header-card mt-3"},r.a.createElement(I,{eventKey:"2",title:"Visa"})),r.a.createElement(C.a.Collapse,{eventKey:"2"},r.a.createElement(A,{callback:s})),r.a.createElement("div",{className:"payment-header-card mt-3"},r.a.createElement(I,{eventKey:"3",title:"PayPal"})),r.a.createElement(C.a.Collapse,{eventKey:"3"},r.a.createElement(A,{callback:s}))))})),M=(t(323),t(96)),x=t(69);a.default=Object(m.b)((function(e){return{cart:e.shop.cart,favorite:e.favorite,payment:e.auth.user.payment,auth:e.auth.user}}),(function(e){return{deleteCard:function(a){return e(Object(_.e)(a))},update:function(a){return e(Object(_.l)(a))},subscriptions:function(a){return e(Object(x.b)(a))}}}))((function(e){var a=e.auth,t=e.subscriptions,m=Object(l.useState)(!1),s=Object(c.a)(m,2),_=s[0],j=s[1],O=Object(l.useState)(!1),C=Object(c.a)(O,2),k=C[0],B=C[1],A=e.cart.length,I=e.favorite.items.length,x=Object(l.useState)(null),D=Object(c.a)(x,2),w=D[0],P=D[1],V=Object(l.useState)(!1),Y=Object(c.a)(V,2),F=Y[0],T=Y[1],G=i()(e.payment)?[]:Object(n.a)(e.payment),K=Object(l.useState)(Object(n.a)(G)),L=Object(c.a)(K,2),H=L[0],J=L[1],U=Object(l.useState)(""),z=Object(c.a)(U,2),R=z[0],W=z[1],q=Object(l.useState)(""),Q=Object(c.a)(q,2),X=Q[0],Z=Q[1],$=Object(l.useState)(""),ee=Object(c.a)($,2),ae=ee[0],te=ee[1],ne=Object(l.useState)(""),ce=Object(c.a)(ne,2),le=ce[0],re=ce[1],me=function(e){e.preventDefault(),j(!_)},se=function(){return B(!1)},ie=function(e){e.preventDefault(),P(e.target.id),B(!0)};Object(l.useEffect)((function(){var e=a.email;return J({id:w,card_number:R,mm:X,yy:ae,ccv:le}),t(e),function(){J({id:w,card_number:R,mm:X,yy:ae,ccv:le}),t(e)}}),[R,w,ae,X,le,a,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{loading:e.favorite.pending}),r.a.createElement("div",{className:"allWrapper"},r.a.createElement(N.a,{favorite_item:I,cartItem:A,menuActive:!0}),r.a.createElement(h.a,{favorite_item:I,cartItem:A,menuActive:!0}),r.a.createElement("div",{className:"userBodyArea clearfix",id:"userBodyArea"},r.a.createElement(u.a,{fluid:!0,className:"pl-0 pr-0"},r.a.createElement(o.a,{noGutters:!0},r.a.createElement(g.a,null),r.a.createElement(d.a,null,r.a.createElement("main",{className:"userMainContent clearfix bgImage bgImg03",id:"userMainContent"},r.a.createElement("section",{className:"myOrderArea secGap clearfix",id:"myOrderArea"},r.a.createElement(u.a,{fluid:!0},r.a.createElement(o.a,null,r.a.createElement(d.a,null,r.a.createElement(E.a,{className:"fade-in"},r.a.createElement(E.a.Body,null,r.a.createElement(b.a,{responsive:!0,className:"cardTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Payment methods "),r.a.createElement("th",null," Actions"))),r.a.createElement("tbody",null,0===G.length?r.a.createElement(r.a.Fragment,null):G.map((function(e){var a=e.card_number?e.card_number.slice(-4):"";return r.a.createElement("tr",{key:e.id,className:"cardNumberTable"},r.a.createElement("td",{className:"cardInfotd"},r.a.createElement("div",{className:"cardPaymentDetails"},r.a.createElement("h3",{className:"payTitle"},e.payment_type,r.a.createElement("span",{className:"cardNumber"},"**** **** **** ",a)),r.a.createElement("p",{className:"payExp"},"Expires in ",e.mm,"/",e.yy))),r.a.createElement("td",{className:"actionBtntd d-flex"},r.a.createElement(v.a,{className:"btn btnActionUpdate",value:e.id,onClick:function(e){e.preventDefault();var a=G.find((function(a){return a.id===Number(e.target.value)}));return W(a.card_number),Z(a.mm),te(a.yy),re(a.ccv),P(e.target.value),T(!0)}},"Update"),r.a.createElement(v.a,{id:e.id,className:"btn btnActionDelete",onClick:ie},"Delete")))})))),_?"":r.a.createElement(v.a,{className:"btn btn-primary btnSm",onClick:me},"Add payment method"),_?r.a.createElement("div",{className:"add-payment d-flex align-items-center mt-4"},r.a.createElement("h3",null,"Add payment method"),r.a.createElement(v.a,{className:"btn btn-danger ml-3 btn-cancel",onClick:me},"Cancel")):"",_?r.a.createElement(S,null):"")))))))))))),r.a.createElement(f.a,{show:k,onHide:se},r.a.createElement(f.a.Header,{closeButton:!0,className:"border-0"}),r.a.createElement(f.a.Body,{className:"cardModalCss"},"Are you sure ? You want to delete it..!"),r.a.createElement(f.a.Footer,{className:"border-0"},r.a.createElement(v.a,{id:w,name:"confirm",variant:"primary",onClick:function(a){return a.preventDefault(),e.deleteCard(a.target.id),B(!1)}},"Confirm"),r.a.createElement(v.a,{className:"btn modalCancelBtn",onClick:se},"Cancel"))),r.a.createElement(f.a,{show:F,onHide:function(e){return T(!1)}},r.a.createElement(f.a.Header,{closeButton:!0,className:"border-0"}),r.a.createElement(f.a.Body,null,r.a.createElement(p.a,null,r.a.createElement("div",{className:"cardInfoForm p-3"},r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(d.a,{sm:"12"},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Card number"),r.a.createElement(y.a,{format:"#### #### #### ####",placeholder:"____ ____ ____ ____",mask:["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_"],name:"card_number",className:"form-control",value:R,onChange:function(e){return e.preventDefault(),W(e.target.value)}})))),r.a.createElement(o.a,null,r.a.createElement(d.a,{sm:"8"},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Expiry date"),r.a.createElement("ul",{className:"justify-content-start d-flex"},r.a.createElement("li",{className:"ModalFromInput width-45"},r.a.createElement(y.a,{id:"card-mm",format:function(e){return function(e,a){return 1===e.length&&e[0]>a[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>a&&(e=a)),e}(e.substring(0,2),"12")},placeholder:"MM",mask:["M","M"],name:"mm",value:X,onChange:function(e){return e.preventDefault(),Z(e.target.value)}})),r.a.createElement("li",{className:"cardBl"},"/"),r.a.createElement("li",{className:"ModalFromInput width-45"},r.a.createElement(y.a,{id:"card-yy",format:function(e){return e.substring(0,2)},placeholder:"YY",mask:["Y","Y"],name:"yy",value:ae,onChange:function(e){return e.preventDefault(),te(e.target.value)}}))))),r.a.createElement(d.a,{sm:"4"},r.a.createElement(p.a.Group,{className:"ccv-group"},r.a.createElement(p.a.Label,{className:"ccv-input"}," CVV "),r.a.createElement(y.a,{type:"text",id:"card-cvv",name:"ccv",format:"###",placeholder:"CVV",value:le,onChange:function(e){return e.preventDefault(),re(e.target.value)}}))))))),r.a.createElement(f.a.Footer,{className:"border-0"},r.a.createElement(v.a,{name:"confirm",variant:"primary",id:w,onClick:function(a){return a.preventDefault(),e.update(H),T(!1)}},"Confirm"),r.a.createElement(v.a,{className:"btn modalCancelBtn",onClick:function(e){return e.preventDefault(),T(!1)}},"Cancel"))))}))}}]);
//# sourceMappingURL=14.0eebaaa9.chunk.js.map
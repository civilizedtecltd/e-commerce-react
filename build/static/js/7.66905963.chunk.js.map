{"version":3,"sources":["components/FromComponents/InputComponent.jsx","constants/firebase-config.js","constants/authMethods.js","services/socialAuth.js","components/oAuth/OAuth.jsx","components/authComponents/SocialListComponent.jsx","pages/auth/Login.jsx"],"names":["InputFrom","LabelId","TypeName","LabelTitle","Name","Value","Placeholder","ClassName","handleOnchange","Group","className","Label","htmlFor","Control","type","id","name","value","placeholder","onChange","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","googleProvider","auth","GoogleAuthProvider","firebaseAuth","provider","Promise","resolve","reject","signInWithPopup","then","res","user","catch","error","socialAuth","a","providerData","providerId","uid","displayName","email","phone","phoneNumber","photo","photoURL","console","log","connect","state","dispatch","login","data","OauthLogin","signup","Oauth","OauthSignUp","emptyStatus","showAllFavItem","showFavItems","props","handleOnClick","userInfo","onClick","alert","SocialListComponent","withRouter","status","login_success","jwt","token","login_status","success","removeError","useState","show","message","setAlert","password","setData","previewsLocation","useLastLocation","lastPath","pathname","history","location","useEffect","match","push","goBack","e","preventDefault","target","loading","fluid","sm","to","alt","src","Logo","style","width","onSubmit","variant","onClose","dismissible"],"mappings":"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","file":"static/js/7.66905963.chunk.js","sourcesContent":["import React from 'react';\nimport { Form } from 'react-bootstrap';\n\nfunction InputFrom ({ LabelId, TypeName, LabelTitle, Name, Value, Placeholder, ClassName, handleOnchange }) {\n    return (\n        <Form.Group className = {ClassName}>\n            <Form.Label htmlFor = {LabelId} > {LabelTitle} </Form.Label>\n            <Form.Control type = {TypeName} id = {LabelId} name={Name} value={Value || ''} placeholder={Placeholder} onChange = {handleOnchange} />\n        </Form.Group>\n    )\n}\n\n//Select From Components\nfunction SelectFrom({ LabelTitle, Value, categories, handleOnchange}) {\n    return (\n        <Form.Group>\n            <Form.Label> {LabelTitle} </Form.Label>\n            <Form.Control name=\"category_id\" as=\"select\" value={Value} onChange={handleOnchange}>\n                    <option value = {0}> Select Category </option>\n                    {(categories === undefined) ? [] : categories.map((element, index) => (\n                        <option\n                            key = {index}\n                            id = {index}\n                            value = {element.id}\n                        >\n                            {element.category}\n                        </option>\n                    ))}\n            </Form.Control>\n      </Form.Group>\n     )\n }\n\n\nexport {\n    InputFrom,\n    SelectFrom\n}\n","// Import the functions you need from the SDKs you need\n\n\n\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDzvHSi0kpxiFxCXmEbnWuaape_jWAhuDU\",\n  authDomain: \"abookstore-d5215.firebaseapp.com\",\n  projectId: \"abookstore-d5215\",\n  storageBucket: \"abookstore-d5215.appspot.com\",\n  messagingSenderId: \"591873202424\",\n  appId: \"1:591873202424:web:c5faa8ddde0f95ca62830d\",\n  measurementId: \"G-SPE09YV8D4\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;","import firebase from './firebase-config';\n\n//export const facebookProvider = new firebase.auth.FacebookAuthProvider();\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();","import firebase from \"../constants/firebase-config\";\n\nconst firebaseAuth = (provider) => {\n    return new Promise((resolve, reject) => {\n        firebase\n            .auth()\n            .signInWithPopup(provider)\n            .then((res) => {\n                return resolve(res.user);\n            }).catch( (error) => {\n                return reject(error);\n            });\n    });\n}\n\n\nconst socialAuth = async (provider) => {\n    try {\n        const { providerData } = await firebaseAuth(provider);\n        \n        return {\n            provider: providerData[0].providerId,\n            id: providerData[0].uid,\n            name: providerData[0].displayName,\n            email: providerData[0].email,\n            phone: providerData[0].phoneNumber,\n            photo: providerData[0].photoURL \n        }\n        \n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n\n}\n\nexport default socialAuth;","import React from 'react';\nimport { connect } from 'react-redux';\n//import { FacebookSignIn, GoogleSignIn } from \"google-facebook-signin-react\";\nimport { FacebookLoginButton, GoogleLoginButton } from 'react-social-login-buttons';\nimport { OauthLogin, emptyStatus, OauthSignUp } from '../../redux/actions/authActions';\nimport { showFavItems } from '../../redux/actions/favoriteActions';\n\nimport { googleProvider } from '../../constants/authMethods';\nimport socialAuth from '../../services/socialAuth';\n\n\n\nconst OAuth = (props) => {\n\n    const success = (res) => {\n        return new Promise((resolve, reject) => {\n            const path = window.location.pathname;\n            if (path ==='/login') {\n                if (res.provider === \"google\") {\n                    const loginData = res.data.Qt || res.data.Rt \n                    props.login(loginData)\n                }\n                if (res.provider === 'facebook') {\n                    props.login(res.data)\n                }\n                resolve();\n            }\n\n            if (path === '/signup') {\n                if (res.provider === \"google\") {\n                    const OauthData = res.data.Qt ? res.data.Qt : res.data.Rt;\n                    props.signup(OauthData)\n                }\n                if (res.provider === 'facebook') {\n                    props.signup(res.data)\n                }\n                resolve();\n            }\n        });\n    }\n\n    const error =(err) =>{\n        console.log(err);\n    }\n\n    const handleOnClick = async (provider) => {\n        const userInfo =  await socialAuth(provider);\n                \n        if(userInfo){\n            props.login(userInfo);\n        }\n    }\n\n    return (\n        <div>            \n            <FacebookLoginButton onClick={()=> alert('Facebook Button')} />\n            <GoogleLoginButton onClick={() => handleOnClick(googleProvider)} />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n})\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        login: (data) => dispatch(OauthLogin(data)),\n        signup: (Oauth) => dispatch(OauthSignUp(Oauth)),\n        emptyStatus: () => dispatch(emptyStatus()),\n        showAllFavItem: () => dispatch(showFavItems()),\n   }\n}\nexport default connect(mapStateToProps,mapDispatchToProps)(OAuth);\n","import React from \"react\";\nimport OAuth from '../oAuth/OAuth'\nexport default function SocialListComponent() {\n  return (\n    <div className=\"loginBodyContent clearfix\" id=\"loginBody\">\n      <h2 className=\"headTitle\">Login to Your Account</h2>\n      <div className=\"socialLogin mb-4\">\n        <ul className=\"socialList mt-4 mb-4\" >\n          <OAuth />\n        </ul>\n        <h4>OR</h4>\n      </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { useLastLocation } from 'react-router-last-location';\nimport { connect } from 'react-redux';\nimport { login, emptyStatus } from '../../redux/actions/authActions';\nimport { showFavItems } from '../../redux/actions/favoriteActions';\nimport { Container, Row, Col, Form, Alert, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport SocialListComponent from '../../components/authComponents/SocialListComponent';\nimport { InputFrom } from '../../components/FromComponents/InputComponent';\nimport PageLoader from \"../../components/pageLoader/PageLoaderComponent\";\nimport './assets/css/auth.css';\nimport '../../assets/css/animate.css';\nimport Logo from '../../assets/images/logo.png'\n\n\nconst Login = (props) => {\n\n  const [alert, setAlert] = useState({ show: false, type: '', message: '' });\n  const [data, setData] = useState({ email: null, password: null })\n  const previewsLocation = useLastLocation();\n  const lastPath = previewsLocation ? previewsLocation.pathname : '/';\n  const { auth, login, showAllFavItem, error, removeError, login_success, history, login_status, location } = props\n\n  const logInSuccess =()=>{\n    if (login_success) {\n\n        if (lastPath === '/signup' || lastPath.match(\"/change-password/\")) {\n          setAlert({ show: true, type: 'success', message: 'You are logged in' })\n            showAllFavItem()\n           history.push('/profile-settings');\n        }\n        else if (!lastPath) {\n            showAllFavItem()\n           history.push('/profile-settings');\n        }\n        else {\n            showAllFavItem()\n           history.goBack()\n        }\n      }\n      if (error) {\n        setAlert({ show: true, type: 'danger', message: error.message })\n        removeError()\n      }\n  }\n\n  useEffect(() => {\n    logInSuccess()\n  }, [auth.status.error, error, removeError, login_success, lastPath, history, login_status, location, showAllFavItem])\n\n\n  const handleOnchange = (e) => {\n    e.preventDefault()\n    return setData({ ...data, [e.target.name]: e.target.value })\n  }\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (!data.email && !data.password) {\n      return setAlert({ show: true, type: 'danger', message: \"Password and Email required\" })\n    }\n    if (!data.email || data.email === '')\n      return setAlert({ show: true, type: 'danger', message: \"Mail should not be empty\" })\n    else if (!data.password || data.password === '')\n      return setAlert({ show: true, type: 'danger', message: \"Password should not be empty\" })\n    else {\n      login(data)\n    }\n  }\n\n  return (\n    <>\n      <PageLoader loading={false} />\n      <div className=\"AllWrapper fullHeight\">\n        <main\n          className=\"loginMainArea clearfix fullHeight bgImage loginBodyBg pb-4\"\n          id=\"loginBody\"\n        >\n          <Container fluid={true}>\n            <Row>\n              <Col sm={6}>\n                <div className=\"logoWrapper mt-4 mb-4\">\n                  <h1 className=\"logoText\">\n                    <Link to=\"/\"><img loading=\"lazy\" alt={'Logo'} src={Logo} style={{width:\"100px\"}} /></Link>\n                  </h1>\n                </div>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col sm={6}>\n                <SocialListComponent />\n\n                <div className=\"formWrapper clearfix\" id=\"formWrapper\">\n                  <Form onSubmit={handleSubmit}>\n                    <InputFrom\n                      LabelId  =\"email\"\n                      TypeName =\"email\"\n                      LabelTitle =\"Email\"\n                      Name =\"email\"\n                      Value = {data.email}\n                      Placeholder=\"Enter Your Email\"\n                      handleOnchange={handleOnchange}\n                    />\n\n                    <InputFrom\n                      LabelId=\"password\"\n                      TypeName=\"password\"\n                      LabelTitle=\"Password\"\n                      Name=\"password\"\n                      Value = {data.password}\n                      Placeholder=\"Enter Your Password\"\n                      handleOnchange={handleOnchange}\n                    />\n\n                    <Link className=\"linkText mb-3\" to=\"/forgot-password\">\n                      Forgot password?\n                    </Link>\n                    <Alert show={alert.show} variant={alert.type} onClose={() => setAlert({ ...alert, show: false })} dismissible>\n                      <p>{alert.message}</p>\n                    </Alert>\n\n                    <Button type=\"submit\" className=\"btn submitBtn mb-3 \" >Sign In</Button>\n                    <p>\n                      Donâ€™t have an account yet? &nbsp; <Link className=\"linkText\" to=\"/signup\">Sign up</Link>\n                    </p>\n                  </Form>\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </main>\n      </div>\n    </>\n  );\n}\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  error: state.auth.status.error ? (state.auth.status.error.data) : false,\n  login_success: state.auth.jwt ? state.auth.jwt.token : false,\n  login_status: state.auth.status ? state.auth.status.success : false\n});\nconst mapDispatchToProps = dispatch => ({\n  login: (data) => dispatch(login(data)),\n  showAllFavItem: () => dispatch(showFavItems()),\n  removeError: () => dispatch(emptyStatus())\n});\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Login));\n"],"sourceRoot":""}
{"version":3,"sources":["pages/LoaderSm.jsx","../node_modules/react-paypal-express-checkout/index.js","../node_modules/react-paypal-express-checkout/dist/index.js","../node_modules/react-async-script-loader/lib/index.js","../node_modules/react-async-script-loader/node_modules/hoist-non-react-statics/index.js","../node_modules/react-async-script-loader/lib/utils.js","pages/PaymentMethods.jsx","constants/constants.js","pages/CheckoutTab.jsx","helpers/utils.js","pages/CheckoutPage.jsx"],"names":["LoaderSm","size","className","clr","style","height","width","version","x","y","viewBox","xmlSpace","fill","d","attributeType","attributeName","type","from","to","dur","repeatCount","module","exports","_react","_reactDom","_reactAsyncScriptLoader","_propTypes","Object","defineProperty","value","_react2","_interopRequireDefault","_reactDom2","_reactAsyncScriptLoader2","_propTypes2","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","PaypalButton","_React$Component","this","_this","getPrototypeOf","window","React","ReactDOM","state","showButton","_ref","isScriptLoaded","isScriptLoadSucceed","show","setState","console","log","onError","_props","_this2","payment","paypal","rest","env","client","assign","transactions","amount","total","currency","paymentOptions","input_fields","no_shipping","shipping","onAuthorize","data","actions","execute","then","payment_data","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","address","payer","payer_info","shipping_address","email","onSuccess","ppbtn","createElement","Button","react","commit","onCancel","Component","propTypes","string","isRequired","number","object","defaultProps","err","_extends","arguments","source","hasOwnProperty","startLoadingScripts","_hoistNonReactStatics2","_utils","_toConsumableArray","arr","Array","isArray","arr2","loadedScript","pendingScripts","failedScript","scripts","onComplete","undefined","noop","loadNewScript","src","indexOf","taskComplete","callbacks","push","newScript","forEach","cb","tasks","map","series","apply","addCache","removeFailedScript","entry","script","node","document","querySelector","parentNode","removeChild","_len","_key","WrappedComponent","ScriptLoader","_Component","context","_isMounted","onScriptLoaded","func","REACT_STATICS","childContextTypes","contextTypes","displayName","getDefaultProps","mixins","KNOWN_STATICS","name","caller","arity","isGetOwnPropertySymbolsAvailable","getOwnPropertySymbols","targetComponent","sourceComponent","customStatics","keys","getOwnPropertyNames","concat","error","isDefined","val","isFunction","keyIterator","_","addEventListener","body","appendChild","cols","next","parallel","each","hasError","successed","ret","filter","task","_len2","args","_key2","_len3","_key3","nextKey","nextThunk","thunk","iterator","_len4","_key4","connect","auth","delivery","shop","deliveryMethod","dispatch","addCard","info","setPayment","setPaymentDetails","useState","paymentType","standard","express","status","message","alert","setAlert","useEffect","callback","method","deliveryInfo","loading","onChange","e","inputErr","Alert","variant","delivery_name","delivery_time","price","onClose","dismissible","paypalConfig","sandbox","production","site","setAddress","setDeliveryAddress","setRedirectToOrder","confirmOrder","clearPromo","history","useHistory","setShow","prev","step","setStep","iframe","setIframe","iframeLoading","setIframeLoading","setinputErr","first_name","user","last_name","terms","policy","formData","setFormData","redirect_order","setTimeout","messages","paymentDetails","deliveryTime","currencyExchangeRate","currencyRate","kes","total_cost_in_usd","Math","ceil","costWithDelivery","handleNext","payment_section","getElementById","address_section","order_confirmation_section","payment_confirmation","step_1_tab","step_2_tab","step_3_tab","step_4_tab","classList","remove","add","payment_number","get_ifrm","confirmCheckout","handlePrev","handleOnChange","payPalOnSuccess","paypalInfo","paymentInfo","books","cart","item","id","quantity","promoId","promo","payPalOnCancel","location","href","cancelUrl","payPalOnError","mpesaOnCheckout","category","book_category","mpesa_number","delivery_cost","orderRef","userMobile","axios","post","URL","_GET_PAY_IFR","res","localStorage","setItem","btoa","Container","Card","Body","Row","Col","sm","disabled","Form","action","htmlFor","col","estate","getPaymentMethod","itm","rows","Check","custom","label","onClick","phone","city","zip","productPrice","numOfDay","future","Date","setDate","getDate","Number","getMonth","getFullYear","futureDate","onLoad","title","promoInfo","token","jwt","getUser","deliveryMethodFetch","cartItems","totalBookPrice","delivery_costs","setDeliveryCost","sumTotalQty","reduce","ac","crr","getItem","amountPrice","promoPrice","discount","upto","parseFloat","alt","Logo","marginTop","index","cover_images","img_1","paymentMethod"],"mappings":"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","file":"static/js/6.203f8a7c.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function LoaderSm({ size, className, clr = '#0a8dff' }) {\n  return (\n    <div\n      className={className}\n      style={{ height: size, width: size }}\n    >\n      <svg\n        version=\"1.1\"\n        style={{ height: size, width: size }}\n        x=\"0px\"\n        y=\"0px\"\n        viewBox=\"0 0 80 80\"\n        xmlSpace=\"preserve\"\n      >\n\n        <path\n          fill={clr}\n          d=\"M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1\n        c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1\n        c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1\n        l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5\n        c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1\n        c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9\n        c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9\n        c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2\n        c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9\n        c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1\n        c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7\n        c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1\n        c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z\"\n        >\n\n          <animateTransform\n            attributeType=\"xml\"\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 40 40\"\n            to=\"360 40 40\"\n            dur=\"0.6s\"\n            repeatCount=\"indefinite\"\n          />\n        </path>\n      </svg>\n    </div>\n  )\n}\n","module.exports = require('./dist/index');","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', 'react', 'react-dom', 'react-async-script-loader', 'prop-types'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('react'), require('react-dom'), require('react-async-script-loader'), require('prop-types'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.react, global.reactDom, global.reactAsyncScriptLoader, global.propTypes);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _react, _reactDom, _reactAsyncScriptLoader, _propTypes) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  var _reactAsyncScriptLoader2 = _interopRequireDefault(_reactAsyncScriptLoader);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var PaypalButton = function (_React$Component) {\n    _inherits(PaypalButton, _React$Component);\n\n    function PaypalButton(props) {\n      _classCallCheck(this, PaypalButton);\n\n      var _this = _possibleConstructorReturn(this, (PaypalButton.__proto__ || Object.getPrototypeOf(PaypalButton)).call(this, props));\n\n      window.React = _react2.default;\n      window.ReactDOM = _reactDom2.default;\n      _this.state = {\n        showButton: false\n      };\n      return _this;\n    }\n\n    _createClass(PaypalButton, [{\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(_ref) {\n        var isScriptLoaded = _ref.isScriptLoaded,\n            isScriptLoadSucceed = _ref.isScriptLoadSucceed;\n\n        if (!this.state.show) {\n          if (isScriptLoaded && !this.props.isScriptLoaded) {\n            if (isScriptLoadSucceed) {\n              this.setState({\n                showButton: true\n              });\n            } else {\n              console.log('Cannot load Paypal script!');\n              this.props.onError();\n            }\n          }\n        }\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _props = this.props,\n            isScriptLoaded = _props.isScriptLoaded,\n            isScriptLoadSucceed = _props.isScriptLoadSucceed;\n\n        if (isScriptLoaded && isScriptLoadSucceed) {\n          this.setState({\n            showButton: true\n          });\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var payment = function payment() {\n          return paypal.rest.payment.create(_this2.props.env, _this2.props.client, Object.assign({\n            transactions: [{\n              amount: {\n                total: _this2.props.total,\n                currency: _this2.props.currency\n              }\n            }]\n          }, _this2.props.paymentOptions), {\n            input_fields: {\n              // any values other than null, and the address is not returned after payment execution.\n              no_shipping: _this2.props.shipping\n            }\n          });\n        };\n\n        var onAuthorize = function onAuthorize(data, actions) {\n          return actions.payment.execute().then(function (payment_data) {\n            // console.log(`payment_data: ${JSON.stringify(payment_data, null, 1)}`)\n            var payment = Object.assign({}, _this2.props.payment);\n            payment.paid = true;\n            payment.cancelled = false;\n            payment.payerID = data.payerID;\n            payment.paymentID = data.paymentID;\n            payment.paymentToken = data.paymentToken;\n            payment.returnUrl = data.returnUrl; // getting buyer's shipping address and email\n\n            payment.address = payment_data.payer.payer_info.shipping_address;\n            payment.email = payment_data.payer.payer_info.email;\n\n            _this2.props.onSuccess(payment);\n          });\n        };\n\n        var ppbtn = '';\n\n        if (this.state.showButton) {\n          ppbtn = _react2.default.createElement(paypal.Button.react, {\n            env: this.props.env,\n            client: this.props.client,\n            style: this.props.style,\n            payment: payment,\n            commit: true,\n            onAuthorize: onAuthorize,\n            onCancel: this.props.onCancel // \"Error: Unrecognized prop: shipping\" was caused by the next line\n            // shipping={this.props.shipping}\n\n          });\n        }\n\n        return _react2.default.createElement('div', null, ppbtn);\n      }\n    }]);\n\n    return PaypalButton;\n  }(_react2.default.Component);\n\n  PaypalButton.propTypes = {\n    currency: _propTypes2.default.string.isRequired,\n    total: _propTypes2.default.number.isRequired,\n    client: _propTypes2.default.object.isRequired,\n    style: _propTypes2.default.object\n  };\n  PaypalButton.defaultProps = {\n    paymentOptions: {},\n    env: 'sandbox',\n    // null means buyer address is returned in the payment execution response\n    shipping: null,\n    onSuccess: function onSuccess(payment) {\n      console.log('The payment was succeeded!', payment);\n    },\n    onCancel: function onCancel(data) {\n      console.log('The payment was cancelled!', data);\n    },\n    onError: function onError(err) {\n      console.log('Error loading Paypal script!', err);\n    }\n  };\n  exports.default = (0, _reactAsyncScriptLoader2.default)('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.startLoadingScripts = startLoadingScripts;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar loadedScript = [];\nvar pendingScripts = {};\nvar failedScript = [];\n\nfunction startLoadingScripts(scripts) {\n  var onComplete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _utils.noop; // sequence load\n\n  var loadNewScript = function loadNewScript(src) {\n    if (loadedScript.indexOf(src) < 0) {\n      return function (taskComplete) {\n        var callbacks = pendingScripts[src] || [];\n        callbacks.push(taskComplete);\n        pendingScripts[src] = callbacks;\n\n        if (callbacks.length === 1) {\n          return (0, _utils.newScript)(src)(function (err) {\n            pendingScripts[src].forEach(function (cb) {\n              return cb(err, src);\n            });\n            delete pendingScripts[src];\n          });\n        }\n      };\n    }\n  };\n\n  var tasks = scripts.map(function (src) {\n    if (Array.isArray(src)) {\n      return src.map(loadNewScript);\n    } else return loadNewScript(src);\n  });\n\n  _utils.series.apply(undefined, _toConsumableArray(tasks))(function (err, src) {\n    if (err) {\n      failedScript.push(src);\n    } else {\n      if (Array.isArray(src)) {\n        src.forEach(addCache);\n      } else addCache(src);\n    }\n  })(function (err) {\n    removeFailedScript();\n    onComplete(err);\n  });\n}\n\nvar addCache = function addCache(entry) {\n  if (loadedScript.indexOf(entry) < 0) {\n    loadedScript.push(entry);\n  }\n};\n\nvar removeFailedScript = function removeFailedScript() {\n  if (failedScript.length > 0) {\n    failedScript.forEach(function (script) {\n      var node = document.querySelector('script[src=\\'' + script + '\\']');\n\n      if (node != null) {\n        node.parentNode.removeChild(node);\n      }\n    });\n    failedScript = [];\n  }\n};\n\nvar scriptLoader = function scriptLoader() {\n  for (var _len = arguments.length, scripts = Array(_len), _key = 0; _key < _len; _key++) {\n    scripts[_key] = arguments[_key];\n  }\n\n  return function (WrappedComponent) {\n    var ScriptLoader = function (_Component) {\n      _inherits(ScriptLoader, _Component);\n\n      function ScriptLoader(props, context) {\n        _classCallCheck(this, ScriptLoader);\n\n        var _this = _possibleConstructorReturn(this, (ScriptLoader.__proto__ || Object.getPrototypeOf(ScriptLoader)).call(this, props, context));\n\n        _this.state = {\n          isScriptLoaded: false,\n          isScriptLoadSucceed: false\n        };\n        _this._isMounted = false;\n        return _this;\n      }\n\n      _createClass(ScriptLoader, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          this._isMounted = true;\n          startLoadingScripts(scripts, function (err) {\n            if (_this2._isMounted) {\n              _this2.setState({\n                isScriptLoaded: true,\n                isScriptLoadSucceed: !err\n              }, function () {\n                if (!err) {\n                  _this2.props.onScriptLoaded();\n                }\n              });\n            }\n          });\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this._isMounted = false;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var props = _extends({}, this.props, this.state);\n\n          return _react2.default.createElement(WrappedComponent, props);\n        }\n      }]);\n\n      return ScriptLoader;\n    }(_react.Component);\n\n    ScriptLoader.propTypes = {\n      onScriptLoaded: _propTypes2.default.func\n    };\n    ScriptLoader.defaultProps = {\n      onScriptLoaded: _utils.noop\n    };\n    return (0, _hoistNonReactStatics2.default)(ScriptLoader, WrappedComponent);\n  };\n};\n\nexports.default = scriptLoader;","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  arguments: true,\n  arity: true\n};\nvar isGetOwnPropertySymbolsAvailable = typeof Object.getOwnPropertySymbols === 'function';\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, customStatics) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    var keys = Object.getOwnPropertyNames(sourceComponent);\n    /* istanbul ignore else */\n\n    if (isGetOwnPropertySymbolsAvailable) {\n      keys = keys.concat(Object.getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]] && (!customStatics || !customStatics[keys[i]])) {\n        try {\n          targetComponent[keys[i]] = sourceComponent[keys[i]];\n        } catch (error) {}\n      }\n    }\n  }\n\n  return targetComponent;\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar isDefined = exports.isDefined = function isDefined(val) {\n  return val != null;\n};\n\nvar isFunction = exports.isFunction = function isFunction(val) {\n  return typeof val === 'function';\n};\n\nvar noop = exports.noop = function noop(_) {};\n\nvar newScript = exports.newScript = function newScript(src) {\n  return function (cb) {\n    var script = document.createElement('script');\n    script.src = src;\n    script.addEventListener('load', function () {\n      return cb(null, src);\n    });\n    script.addEventListener('error', function () {\n      return cb(true, src);\n    });\n    document.body.appendChild(script);\n    return script;\n  };\n};\n\nvar keyIterator = function keyIterator(cols) {\n  var keys = Object.keys(cols);\n  var i = -1;\n  return {\n    next: function next() {\n      i++; // inc\n\n      if (i >= keys.length) return null;else return keys[i];\n    }\n  };\n}; // tasks should be a collection of thunk\n\n\nvar parallel = exports.parallel = function parallel() {\n  for (var _len = arguments.length, tasks = Array(_len), _key = 0; _key < _len; _key++) {\n    tasks[_key] = arguments[_key];\n  }\n\n  return function (each) {\n    return function (cb) {\n      var hasError = false;\n      var successed = 0;\n      var ret = [];\n      tasks = tasks.filter(isFunction);\n      if (tasks.length <= 0) cb(null);else {\n        tasks.forEach(function (task, i) {\n          var thunk = task;\n          thunk(function (err) {\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              args[_key2 - 1] = arguments[_key2];\n            }\n\n            if (err) hasError = true;else {\n              // collect result\n              if (args.length <= 1) args = args[0];\n              ret[i] = args;\n              successed++;\n            }\n            if (isFunction(each)) each.call(null, err, args, i);\n            if (hasError) cb(true);else if (tasks.length === successed) {\n              cb(null, ret);\n            }\n          });\n        });\n      }\n    };\n  };\n}; // tasks should be a collection of thunk\n\n\nvar series = exports.series = function series() {\n  for (var _len3 = arguments.length, tasks = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    tasks[_key3] = arguments[_key3];\n  }\n\n  return function (each) {\n    return function (cb) {\n      tasks = tasks.filter(function (val) {\n        return val != null;\n      });\n      var nextKey = keyIterator(tasks);\n\n      var nextThunk = function nextThunk() {\n        var key = nextKey.next();\n        var thunk = tasks[key];\n        if (Array.isArray(thunk)) thunk = parallel.apply(null, thunk).call(null, each);\n        return [+key, thunk]; // convert `key` to number\n      };\n\n      var key = void 0,\n          thunk = void 0;\n      var next = nextThunk();\n      key = next[0];\n      thunk = next[1];\n      if (thunk == null) return cb(null);\n      var ret = [];\n\n      var iterator = function iterator() {\n        thunk(function (err) {\n          for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n            args[_key4 - 1] = arguments[_key4];\n          }\n\n          if (args.length <= 1) args = args[0];\n          if (isFunction(each)) each.call(null, err, args, key);\n          if (err) cb(err);else {\n            // collect result\n            ret.push(args);\n            next = nextThunk();\n            key = next[0];\n            thunk = next[1];\n            if (thunk == null) return cb(null, ret); // finished\n            else iterator();\n          }\n        });\n      };\n\n      iterator();\n    };\n  };\n};","import React, { useState, useEffect } from 'react';\nimport {  Alert } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { setPayment } from '../redux/actions/authActions';\nimport { setPaymentDetails } from '../redux/actions/shopActions';\nimport PageLoader from \"../components/pageLoader/PageLoaderComponent\";\n//import card_icon_img from '../assets/images/user/card_icon_img.png';\nimport './checkout.css';\nimport '../assets/css/theme.css'\n//import defaultMethods from '../inc/PaymentMethods/defaultPaymentMethods.json';\n/* import paypal_icon from './assets/images/paypal.png'; */\n/* import visa from '../assets/images/payment/visa.png'; */\n/* import amex from './assets/images/Amex-icon.jpg' */\n\n//import paypal_icon from '../assets/images/payment/paypal2.png'\n// import master_card from '../assets/images/payment/master.png'\n// import visa from '../assets/images/payment/visa.png'\n// import amex from '../assets/images/payment/amex.png'\n// import visa_master from '../assets/images/payment/visa_master_cart.png'\n// import Paypal from '../assets/images/payment/paypal.png'\n// import Mpesa from '../assets/images/payment/mpesa.png'\n// import Discover from '../assets/images/payment/Discover.jpg'\n// import UnionPay from '../assets/images/payment/UnionPay_logo.svg'\n\n// import './assets/paymentbar.css';\n\n\nconst PaymentMethods = (props) => {\n\n    const [paymentType, setPaymentType] = useState('swype');\n\n    const [deliveryMethod, setDeliveryMethod] = useState({\n        standard: true,\n        express: false\n    });\n\n    const [alert, setAlert] = useState({\n        status: false,\n        type: 'danger',\n        message: ''\n    });\n\n    useEffect(() => {\n        if (deliveryMethod.standard) {\n            props.callback({\n                method: paymentType,\n                delivery: 1,\n                deliveryInfo: props.delivery[0]\n            });\n        }\n    }, [deliveryMethod.standard, paymentType, props]);\n\n    const checkDelivery = (e) => {\n\n        if (e.target.name === 'standard') {\n            setDeliveryMethod({\n                standard: true,\n                express: false\n            })\n\n            /* props.callback({\n                method: paymentType,\n                delivery: 1,\n                deliveryInfo: props.delivery[0]\n            }); */\n\n        }\n\n        if (e.target.name === 'express') {\n            setDeliveryMethod({\n                standard: false,\n                express: true\n            })\n\n            /* props.callback({\n                method: paymentType,\n                delivery: 2,\n                deliveryInfo: props.delivery[1]\n            }); */\n        }\n    }\n\n    /* const selectPaymentType = type => {\n\n        setPaymentType(type);\n\n        if (deliveryMethod.standard) {\n            props.callback({\n                method: type,\n                delivery: 1,\n                deliveryInfo: props.delivery[0]\n            });\n        } else {\n            props.callback({\n                method: type,\n                delivery: 2,\n                deliveryInfo: props.delivery[1]\n            });\n        }\n    } */\n\n    const updatePaymentInfo = e => {\n        // e.preventDefault();\n        props.setPayment({\n            ...props.payment,\n            [e.target.name]: e.target.value\n        });\n    }\n\n\n    return (<>\n        <PageLoader loading={false} />\n\n        {/*     <h3 className=\"mt-4 mb-2\">Select Payment Method</h3> */}\n        {/* ======================================================  */}\n        {/* <div className=\"paymentMethodsArea1\">\n            <Tabs id=\"controlled-tab-example\" activeKey={paymentType} onSelect={selectPaymentType}>\n                <Tab eventKey=\"visaMaster\" title={<Image src={visa_master} style={{ width: \"10\", }} />} disabled>\n                    <h1>Not available</h1>\n                </Tab>\n                <Tab eventKey=\"payPal\" title={<Image src={Paypal} />}>\n                    <div className=\"paypalTitle\">\n                        <p>You can pay by following cards through paypal.</p>\n                    </div>\n                    <div className=\"card-area\">\n                        <div className=\"payment-title\"> <h4>PayPal accepts</h4> </div>\n                        <div className=\"payment-card-section\">\n                            <input type=\"radio\" className=\"radio_item\" value=\"visa\" name=\"item\" id=\"radio2\" />\n                            <label className=\"label_item\" htmlFor=\"radio2\"> <img loading=\"lazy\" src={visa} alt=\"visa-icon\" /> </label>\n\n                            <input type=\"radio\" className=\"radio_item\" value=\"master\" name=\"item\" id=\"radio4\" />\n                            <label className=\"label_item\" htmlFor=\"radio4\"> <img loading=\"lazy\" src={master_card} alt=\"master-card\" /></label>\n\n                            <input type=\"radio\" className=\"radio_item\" value=\"amex\" name=\"item\" id=\"radio3\" />\n                            <label className=\"label_item\" htmlFor=\"radio3\"><img loading=\"lazy\" src={amex} alt=\"american-express\" /></label>\n\n                            <input type=\"radio\" className=\"radio_item\" value=\"Discover\" name=\"item\" id=\"radio1\" />\n                            <label className=\"label_item\" htmlFor=\"radio1\"> <img loading=\"lazy\" src={Discover} alt=\"paypal icon\" /></label>\n\n                            <input type=\"radio\" className=\"radio_item\" value=\"UnionPay\" name=\"item\" id=\"radio1\" />\n                            <label className=\"label_item\" htmlFor=\"radio1\"> <img loading=\"lazy\" src={UnionPay} alt=\"paypal icon\" /></label>\n                        </div>\n                    </div>\n                </Tab>\n                <Tab eventKey=\"mpesa\" title={<Image src={Mpesa} />}>\n                    <div className=\"row\">\n                        <div className=\"col-md-4\">\n                            <h3>Mobile Number:</h3>\n                        </div>\n                        <div className=\"col-md-4\">\n                            <div className=\"input-group\">\n                                <input type=\"text\" className=\"form-control\" name=\"mpesa_number\" onChange={updatePaymentInfo} />\n                            </div>\n                        </div>\n                    </div>\n                </Tab>\n            </Tabs>\n        </div> */}\n        {/* ======================================================  */}\n\n        <div className=\"row d-flex align-items-center m-3\">\n            <div className=\"col-md-3\">\n                <h3>Payment Mobile Number:</h3>\n            </div>\n            <div className=\"col-md-4\">\n                <div className=\"input-group\">\n                    <input type=\"text\" className=\"form-control\" name=\"payment_number\" onChange={updatePaymentInfo} />\n                </div>\n            </div>\n            <div className=\"col-md-3\">\n                {props.inputErr && <Alert variant=\"danger\" className=\"ml-2\">{props.inputErr}</Alert>}\n            </div>\n        </div>\n        <div className=\"row payment-header-card m-3\">\n            <div className=\"col-4\">\n                <p>Delivery Place: {props.payment && props.payment.deliveryInfo && props.payment.deliveryInfo.delivery_name}</p>\n            </div>\n            <div className=\"col-4\">\n                <p>Delivery Time : {props.payment && props.payment.deliveryInfo && props.payment.deliveryInfo.delivery_time} days</p>\n            </div>\n            <div className=\"col-4\">\n                <p>Delivery Cost : {props.payment && props.payment.deliveryInfo && props.payment.deliveryInfo.price} Ksh</p>\n            </div>\n        </div>\n        {/* <div className=\"payment-header-card mt-3 d-flex justify-content-between\">\n            <div>\n                <Form.Check\n                    custom\n                    type=\"radio\"\n                    className=\"ml-2\"\n                    label={props.delivery ? props.delivery[0].delivery_name.charAt(0).toUpperCase() + props.delivery[0].delivery_name.substring(1) : ''}\n                    checked={deliveryMethod.standard}\n                    name=\"standard\"\n                    id=\"standard009\"\n                    onChange={checkDelivery}\n                />\n            </div>\n            <div>\n                <div className=\"col text-right shippingCostPrice\">\n                    <span className=\"shippingCost\"><strong>Time:</strong> {props.delivery ? 24 * props.delivery[0].delivery_time : 24 * 7} hours</span> <span className=\"shippingPrice pl-3 pr-3\"><strong>Price:</strong> Ksh {props.delivery ? props.delivery[0].price : '0'}</span>\n                </div>\n            </div>\n        </div> */}\n\n        {/* <div className=\"payment-header-card mt-3 d-flex justify-content-between\">\n            <div>\n                <Form.Check\n                    custom\n                    type=\"radio\"\n                    className=\"ml-2\"\n                    label={props.delivery ? props.delivery[1].delivery_name.charAt(0).toUpperCase() + props.delivery[1].delivery_name.substring(1) : ''}\n                    checked={deliveryMethod.express}\n                    name=\"express\"\n                    id=\"express22\"\n                    onChange={checkDelivery}\n                />\n            </div>\n            <div>\n                <div className=\"col text-right shippingCostPrice\">\n                    <span className=\"shippingCost\"><strong>Time:</strong>\n                        {props.delivery ? 24 * props.delivery[1].delivery_time : 24 * 7} hours\n                    </span>\n                    <span className=\"shippingPrice pl-3 pr-3\">\n                        <strong>Price:</strong> Ksh {props.delivery ? props.delivery[1].price : '0'}\n                    </span>\n                </div>\n            </div>\n        </div> */}\n\n        <div className=\"mt-3\">\n            <Alert show={alert.status} variant={alert.type} onClose={() => setAlert({ ...alert, status: false })} dismissible>\n                <p>{alert.message}</p>\n            </Alert>\n        </div>\n    </>);\n}\nconst mapStateToProps = state => ({\n    ...state.auth,\n    delivery: state.shop.deliveryMethod,\n    payment: state.shop.payment\n})\nconst mapDispatchToProps = dispatch => ({\n    addCard: (info) => dispatch(setPayment(info)),\n    setPayment: (payment) => dispatch(setPaymentDetails(payment))\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(PaymentMethods);\n","export const VISIBILITY_FILTERS = {\n    DATA: \"use redux\",\n    COMPLETED: \"completed\",\n    INCOMPLETE: \"incomplete\"\n  };\n\n\n  export const paypalConfig = {\n    env: 'sandbox',\n    currency: 'USD',\n    client: {\n        sandbox: 'AealZEZeqmY7Losu4ottC6QaYcqXdXNODFgEsyhM-p4sVbUhNESDO2fivVthS7vbnR7lrt2FrIhKGynm',\n        production:'AcmOk1IjB5Rwg-UR8hXaNoA_V5vUygu3J1ZZ3aAZ1dasN51hwonSMchFqSyyD5V_OaPUPcIXFIPIkpDy'\n    }\n  }\n","import React, { useState, useEffect } from 'react';\nimport { Container, Card, Form, Col, Row, Button, Alert, Modal } from 'react-bootstrap';\nimport PaypalExpressBtn from \"react-paypal-express-checkout\";\nimport { Link, useHistory } from 'react-router-dom'\nimport isEmpty from 'lodash/isEmpty';\nimport { connect } from 'react-redux';\nimport { setDeliveryAddress, setPaymentDetails } from '../redux/actions/shopActions';\nimport { confirmOrder, setPayment } from '../redux/actions/authActions';\nimport { clearPromo } from '../redux/actions/shopActions';\nimport { setRedirectToOrder } from '../redux/actions/siteActions';\nimport PaymentsMethods from './PaymentMethods';\nimport { paypalConfig } from '../constants/constants';\nimport { futureDate } from '../helpers/utils';\nimport './checkout.css';\nimport '../assets/css/theme.css';\nimport PageLoader from \"../components/pageLoader/PageLoaderComponent\";\nimport { URL } from '../constants/config';\nimport axios from 'axios';\nimport LoaderSm from './LoaderSm'\n\nconst CheckoutTab = (props) => {\n  const history = useHistory()\n  const [show, setShow] = useState(false);\n  const [step, setStep] = useState({ prev: 0, next: 1, show: false })\n  const [iframe, setIframe] = useState('')\n  const [iframeLoading, setIframeLoading] = useState(true)\n  const [inputErr, setinputErr] = useState(null)\n\n  const [formData, setFormData] = useState({\n    first_name: props.user.first_name,\n    last_name: props.user.last_name,\n    email: props.user.email,\n    terms: false,\n    policy: false\n  });\n\n  const [alert, setAlert] = useState({\n    status: false,\n    type: 'danger',\n    message: ''\n  });\n\n  useEffect(() => {\n    if (props.redirect_order) {\n      setTimeout(() => {\n        history.push('/my-order')\n      }, 5000);\n    }\n    if (props.status.error) {\n      if (props.status.error.data) {\n        setAlert({\n          status: true,\n          type: 'danger',\n          message: props.status.error.data.messages\n        })\n      }\n    }\n  }, [props.status.error, props, history])\n\n  const paymentDetails = props.payment\n\n  const deliveryCost = (paymentDetails.deliveryInfo) ? paymentDetails.deliveryInfo.price : props.delivery[0].price;\n  const deliveryTime = (paymentDetails.deliveryInfo) ? paymentDetails.deliveryInfo.delivery_time : props.delivery[0].delivery_time;\n  const currencyExchangeRate = (props.currencyRate) ? props.currencyRate.kes : 1;\n  const total_cost_in_usd = Math.ceil(props.costWithDelivery / currencyExchangeRate);\n\n  const handleNext = () => {\n\n    const payment_section = document.getElementById('payment-section');\n    const address_section = document.getElementById('address-section');\n    const order_confirmation_section = document.getElementById('order-confirmation-section');\n    const payment_confirmation = document.getElementById('payment-confirmation');\n\n    const step_1_tab = document.getElementById('step-1')\n    const step_2_tab = document.getElementById('step-2')\n    const step_3_tab = document.getElementById('step-3')\n    const step_4_tab = document.getElementById('step-4')\n\n    if (step.next === 1) {\n      address_section.classList.remove('tab-active-content')\n      payment_section.classList.add('tab-active-content')\n      step_1_tab.classList.remove('active-tab')\n      step_2_tab.classList.add('active-tab')\n      setStep({ prev: 1, next: 2 })\n\n    } else if (step.next === 2) {\n      if (paymentDetails.payment_number && paymentDetails.payment_number.length > 5) {\n        setIframe('')\n        get_ifrm(paymentDetails.payment_number, props.costWithDelivery)\n        payment_section.classList.remove('tab-active-content')\n        order_confirmation_section.classList.add('tab-active-content')\n        step_2_tab.classList.remove('active-tab')\n        step_3_tab.classList.add('active-tab')\n        setStep({ prev: 2, next: 3 })\n      } else {\n        setinputErr('Mobile Number Is Required')\n        setTimeout(() => {\n          setinputErr(null)\n        }, 2500);\n      }\n    } else if (step.next === 3) {\n      confirmCheckout()\n      order_confirmation_section.classList.remove('tab-active-content')\n      payment_confirmation.classList.add('tab-active-content')\n      step_3_tab.classList.remove('active-tab')\n      step_4_tab.classList.add('active-tab')\n      setStep({ prev: 3, next: 4 })\n    }\n  }\n\n  const handlePrev = () => {\n\n    var payment_section = document.getElementById('payment-section');\n    var address_section = document.getElementById('address-section');\n    var order_confirmation_section = document.getElementById('order-confirmation-section');\n    const payment_confirmation = document.getElementById('payment-confirmation');\n\n    const step_1_tab = document.getElementById('step-1')\n    const step_2_tab = document.getElementById('step-2')\n    const step_3_tab = document.getElementById('step-3')\n    const step_4_tab = document.getElementById('step-4')\n\n    if (step.prev === 1) {\n      payment_section.classList.remove('tab-active-content')\n      address_section.classList.add('tab-active-content')\n      step_2_tab.classList.remove('active-tab')\n      step_1_tab.classList.add('active-tab')\n      setStep({ prev: 0, next: 1 })\n    } else if (step.prev === 2) {\n      order_confirmation_section.classList.remove('tab-active-content')\n      payment_section.classList.add('tab-active-content')\n      step_3_tab.classList.remove('active-tab')\n      step_2_tab.classList.add('active-tab')\n      setStep({ prev: 1, next: 2 })\n    } else if (step.prev === 3) {\n      payment_confirmation.classList.remove('tab-active-content')\n      order_confirmation_section.classList.add('tab-active-content')\n      step_4_tab.classList.remove('active-tab')\n      step_3_tab.classList.add('active-tab')\n      setStep({ prev: 2, next: 3 })\n    }\n  }\n\n  const handleOnChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\n  const handleTermsCheck = () => {\n    setFormData({\n      ...formData,\n      terms: !formData.terms\n    })\n  }\n\n  const handlePrivacyCheck = () => {\n    setFormData({\n      ...formData,\n      policy: !formData.policy\n    })\n  }\n\n  const handleEstate = e => {\n    const { id, delivery_name, delivery_time, price } = props.delivery[e.target.value]\n    setFormData({ ...formData, estate: delivery_name })\n    props.setPayment({ method: \"swype\", delivery: id, deliveryInfo: { id, delivery_name, delivery_time, price } })\n    props.getPaymentMethod({ method: \"swype\", delivery: id, deliveryInfo: { id, delivery_name, delivery_time, price } });\n  }\n\n  const getPaymentDetails = (data) => {\n    props.getPaymentMethod(data);\n    /* props.setPayment({\n      ...paymentDetails,\n      ...data\n    }) */\n  }\n\n  const confirmOrder = (paymentInfo) => {\n    const books = [];\n    props.cart.map(item => {\n      return books.push({\n        id: item.id,\n        quantity: item.quantity\n      });\n    });\n\n    const promoId = (props.promo) ? props.promo.id : null;\n    props.confirmOrder({\n      address: formData,\n      payment: { method: paymentDetails.method, info: paymentInfo },\n      delivery: paymentDetails.delivery,\n      books,\n      promo: promoId,\n      deliveryTime\n    });\n\n\n    props.clearPromo();\n\n    setShow(true);\n  }\n\n  const payPalOnSuccess = paypalInfo => confirmOrder(paypalInfo);\n\n  const payPalOnCancel = data => {\n    return window.location.href = data.cancelUrl\n  }\n\n  const payPalOnError = err => {\n  }\n\n  const mpesaOnCheckout = (e) => {\n    const books = [];\n    props.cart.map(item => {\n      return books.push({\n        category: item.book_category.category,\n        id: item.id,\n        quantity: item.quantity\n      });\n    });\n\n    const promoId = (props.promo) ? props.promo.id : null;\n\n    props.confirmOrder({\n      address: formData,\n      payment: { method: paymentDetails.method, info: { mpesa_number: paymentDetails.mpesa_number, price: props.costWithDelivery } },\n      delivery: paymentDetails.delivery,\n      books,\n      promo: promoId,\n    });\n  }\n\n  const confirmCheckout = () => {\n    const books = [];\n    props.cart.map(item => {\n      return books.push({\n        category: item.book_category.category,\n        id: item.id,\n        quantity: item.quantity\n      });\n    });\n\n    const promoId = (props.promo) ? props.promo.id : null;\n\n    props.confirmOrder({\n      address: formData,\n      payment: {\n        method: paymentDetails.method,\n        delivery_time: paymentDetails.deliveryInfo.delivery_time,\n        delivery_cost: paymentDetails.deliveryInfo.price,\n        info: { mpesa_number: paymentDetails.mpesa_number, price: props.costWithDelivery }\n      },\n      delivery: paymentDetails.delivery,\n      books,\n      promo: promoId,\n      orderRef: iframe.orderRef\n    });\n  }\n\n  const get_ifrm = (userMobile, amount) => {\n    axios.post(URL._GET_PAY_IFR, { userMobile, amount })\n      .then(res => {\n        let { iframe, orderRef } = res.data.data\n        // let ifr = `/swype_success/${btoa(orderRef)}`\n        setIframe({ iframe, orderRef })\n        // set order ref\n        localStorage.setItem('or', btoa(btoa(orderRef)))\n      })\n  }\n\n  const set_ifrm_success = () => {\n    const nifr = { ...iframe }\n    nifr.iframe = `/swype_success/${btoa(nifr.orderRef)}`\n    setIframe(nifr)\n  }\n\n\n  return (\n    <>\n      <PageLoader loading={false} />\n      <Container>\n        <Card>\n          <Card.Body>\n            <div className=\"checkout-tab\">\n              <div className=\"header-section\">\n                <button id='step-1' className=\"btn btn-primary active-tab\">Address details</button>\n                <i className=\"fas fa-angle-double-right\"></i>\n                <button id=\"step-2\" className=\"btn btn-primary\">Payment and delivery</button>\n                <i className=\"fas fa-angle-double-right\"></i>\n                <button id=\"step-3\" className=\"btn btn-primary\">Order confirmation</button>\n                <i className=\"fas fa-angle-double-right\"></i>\n                <button id=\"step-4\" className=\"btn btn-primary\">Payment confirmation</button>\n              </div>\n\n              <div id=\"address-section\" className=\"tab address-section tab-active-content mt-5\">\n                <Row>\n                  <Col sm=\"12\">\n                    <button disabled className=\"btn btn-primary btn-block d-md-none d-lg-none d-xl-none\">Address details</button>\n                    <Form className='mt-5' action=\"post\">\n                      <Row>\n                        <Col sm={6} className=\"form-group\">\n                          <label htmlFor=\"first-name\">First Name</label>\n                          <input type=\"text\" name='first_name' id=\"first-name\" className=\"form-control\" value={formData.first_name} onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={6} className=\"form-group\">\n                          <label htmlFor=\"last-name\">Last Name</label>\n                          <input type=\"text\" name='last_name' id=\"last-name\" className=\"form-control\" value={formData.last_name} onChange={handleOnChange} />\n                        </Col>\n\n                        {/* <Col sm={12} className=\"form-group\">\n                          <label htmlFor=\"estate\">Estate</label>\n                          <input type=\"text\" name=\"estate\" id=\"estate\" className=\"form-control\" onChange={handleOnChange} />\n                        </Col> */}\n\n                        <Col col={12} className=\"form-group\">\n                          <label htmlFor=\"country\">Estate</label>\n                          <select name=\"estate\" id=\"estate\" className=\"form-control\" onChange={handleEstate}>\n                            <option value=\"\">--Select one--</option>\n                            {props.delivery.map((itm, i) =>\n                              <option key={itm.id} value={i}>{itm.delivery_name}</option>\n                            )}\n                          </select>\n                        </Col>\n\n                        <Col col={12} className=\"form-group\">\n                          <label htmlFor=\"city\">City</label>\n                          <input type=\"text\" name=\"city\" id=\"city\" className=\"form-control\" onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={12} className=\"form-group\">\n                          <label htmlFor=\"address\">Address</label>\n                          <input type=\"text\" name=\"address\" id=\"address\" className=\"form-control\" onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={12} className=\"form-group\">\n                          <label htmlFor=\"zip-code\">Zip Code</label>\n                          <input type=\"text\" name=\"zip\" id=\"zipcode\" className=\"form-control\" onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={6} className=\"form-group\">\n                          <label htmlFor=\"house\">House/apartment number</label>\n                          <input type=\"text\" name=\"house_num\" id=\"house\" className=\"form-control\" onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={6} className=\"form-group\">\n                          <label htmlFor=\"email\">Email</label>\n                          <input type=\"text\" name=\"email\" id=\"email\" className=\"form-control\" value={formData.email} onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={6} className=\"form-group\">\n                          <label htmlFor=\"phone-number\">Phone Number</label>\n                          <input type=\"text\" name=\"phone\" id=\"phone-number\" className=\"form-control\" onChange={handleOnChange} />\n                        </Col>\n\n                        <Col sm={12} className=\"form-group\">\n                          <label htmlFor=\"comment\">Comments</label>\n                          <textarea name=\"comments\" id=\"comment\" cols=\"30\" rows=\"4\" className=\"form-control\" onChange={handleOnChange}></textarea>\n                        </Col>\n\n                        <Col sm={12} className=\"form-group fromCheckbox mt-1\">\n                          <div className=\"terms-and-condition\">\n                            <Form.Check\n                              custom\n                              type={\"checkbox\"}\n                              label={<b>I agree with</b>}\n                              id={`checkboxTerms`}\n                              onChange={handleTermsCheck}\n                            />\n                            <p><Link to=\"/term/conditions\" className=\"termsTxt\">Terms and Conditions</Link></p>\n                          </div>\n                        </Col>\n\n                        <Col sm={12} className=\"col-md-12 form-group fromCheckbox mt-1 terms-and-condition\">\n                          <Form.Check\n                            custom\n                            type={\"checkbox\"}\n                            label={<b>I agree with</b>}\n                            id={`checkboxPrivacy`}\n                            onChange={handlePrivacyCheck}\n                          />\n                          <p><Link to=\"/privacy\" className=\"termsTxt\"> Privacy Policy</Link></p>\n                        </Col>\n                      </Row>\n                      <Col className=\"text-right p-0\">\n                        <Button className=\"btn btn-primary cart-btn-next\" disabled={(!formData.terms || !formData.policy || !formData.estate) ? true : false} onClick={handleNext}> Next</Button>\n                      </Col>\n                    </Form>\n                  </Col>\n                </Row>\n              </div>\n\n              <div id=\"payment-section\" className=\"tab payment-section mt-3\">\n                <div className=\"row\">\n                  <div className=\"col col-12\">\n                    <button disabled className=\"btn btn-primary btn-block d-md-none d-lg-none d-xl-none mb-3\">Payment and delivery</button>\n                    {/* <h3 className=\"mt-2 mb-2\">Choose a payment method</h3> */}\n                    <br />\n                    <br />\n                    <PaymentsMethods inputErr={inputErr} callback={getPaymentDetails} />\n                    <Form className=\"mt-5\">\n                      <Row>\n                        <div className=\"col-12 d-flex justify-content-between p-0\">\n                          <Col sm=\"6\">\n                            <button type=\"button\" className=\"btn btnSecondary\" onClick={handlePrev} >Prev</button>\n                          </Col>\n\n                          <Col sm=\"6\" className=\"col-6 text-right\">\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={handleNext}>Next</button>\n                          </Col>\n                        </div>\n                      </Row>\n                    </Form>\n                  </div>\n                </div>\n              </div>\n\n              <div id='order-confirmation-section' className=\"tab order-confirmation-section\">\n                <Form className=\"userInfoForm mt-3\">\n                  <button disabled className=\"btn btn-primary btn-block d-md-none d-lg-none d-xl-none mb-3\">Payment and delivery</button>\n                  <h3 className=\"mt-2 mb-2\">Confirm order details</h3>\n\n                  <Row className=\"row mt-4\">\n\n                    <Col sm=\"6\">\n                      <ul className=\"orderConfrimationList text-large\">\n                        <li><strong>First name : </strong>{formData.first_name}</li>\n                        <li><strong>Last name : </strong>{formData.last_name}</li>\n                        <li><strong>Phone : </strong> {formData.phone}</li>\n                        <li><strong>Email : </strong>{props.user.email}</li>\n                      </ul>\n                    </Col>\n\n                    <Col sm=\"6\">\n                      <ul className=\"orderConfrimationList\">\n                        <li><strong>City : </strong>{formData.city}</li>\n                        <li><strong>Estate : </strong> {formData.estate}</li>\n                        <li><strong>Address : </strong> {formData.address}</li>\n                        <li><strong>Zip code : </strong> {formData.zip}</li>\n                      </ul>\n                    </Col>\n\n                    <Col sm=\"6\" className=\"mt-4\">\n                      <ul className=\"orderConfrimationList text-large\">\n                        <li><strong>Product(s) Price : </strong>Ksh {props.productPrice}</li>\n                        <li><strong>Delivery method : </strong> {paymentDetails && paymentDetails.deliveryInfo && paymentDetails.deliveryInfo.delivery_name}</li>\n                        <li><strong>Delivery cost : </strong>Ksh {paymentDetails && paymentDetails.deliveryInfo && paymentDetails.deliveryInfo.price}</li>\n                        <li><strong>In Total: </strong>Ksh {props.costWithDelivery}</li>\n                        <li><strong>Expected arrival : </strong>  {futureDate(paymentDetails && paymentDetails.deliveryInfo && paymentDetails.deliveryInfo.delivery_time)}</li>\n                      </ul>\n                    </Col>\n                  </Row>\n\n                  <Row className=\"form-group mt-5\">\n                    <div className=\"col-12 d-flex justify-content-between\">\n                      <button type=\"button\" className=\"btn btnSecondary\" onClick={handlePrev} >Prev</button>\n                      <button type=\"button\" className=\"btn btnSecondary\" onClick={handleNext} disabled={iframe === \"\"} >Next {iframe === \"\" && <span className=\"fa fa-spinner fa-spin\" />}</button>\n                      {(() => {\n                        switch (paymentDetails.method) {\n                          case 'payPal':\n                            return <PaypalExpressBtn\n                              env={paypalConfig.env}\n                              client={paypalConfig.client}\n                              currency={paypalConfig.currency}\n                              total={total_cost_in_usd}\n                              onError={payPalOnError}\n                              onSuccess={payPalOnSuccess}\n                              onCancel={payPalOnCancel}\n                            />\n                          case 'mpesa':\n                            return <Button onClick={mpesaOnCheckout}>Checkoutrr</Button>;\n                          default:\n                            return null;\n                        }\n                      })()}\n\n                    </div>\n                  </Row>\n\n\n                </Form>\n              </div>\n\n              <div id=\"payment-confirmation\" className=\"tab payment-confirmation mt-3\">\n                {/* <button onClick={() => set_ifrm_success()}>success</button> */}\n                {(iframe === '' || iframeLoading) && <div className=\"d-flex align-items-center justify-content-center\"><LoaderSm size=\"100\" clr=\"#3897cf\" /></div>}\n                <iframe src={iframe.iframe} onLoad={() => setIframeLoading(false)} title=\"Swype Pay\" style={{ width: '100%', height: 580 }}></iframe>\n                <Row>\n                  <div className=\"col-12 d-flex justify-content-between p-0\">\n                    {/* <Col sm=\"6\">\n                      <button type=\"button\" className=\"btn btnSecondary\" onClick={handlePrev} >Prev</button>\n                    </Col> */}\n\n                    {/* <Col sm=\"6\" className=\"col-6 text-right\">\n                      <button type=\"button\" className=\"btn btn-primary\" onClick={handleNext}>Confirm</button>\n                    </Col> */}\n                  </div>\n                </Row>\n              </div>\n\n            </div>\n          </Card.Body>\n        </Card>\n        <Alert show={alert.status} variant={alert.type} onClose={() => setAlert({ ...alert, status: false })} dismissible>\n          <p>{alert.message}</p>\n        </Alert>\n      </Container >\n\n      {/* <Modal show = {show} onHide = { handleClose }>\n            <Modal.Header className={\"border-0\"} closeButton>\n            </Modal.Header>\n            <Modal.Body>\n                <h2 className={\"text-center\"}>\n                    Order Completed successfully!\n                </h2>\n                <div className=\"order-successful\">\n                    <Link to=\"/shop\" className=\"btn btn-primary mt-3\" style={{color:'white'}}> Go to Shopping </Link>\n                </div>\n            </Modal.Body>\n            <Modal.Footer className={\"border-0\"}>\n\n            </Modal.Footer>\n        </Modal> */}\n    </>)\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    ...state.auth,\n    ...state.shop,\n    ...state.site,\n    delivery: state.shop.deliveryMethod,\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setAddress: (address) => dispatch(setDeliveryAddress(address)),\n  setPayment: (payment) => dispatch(setPaymentDetails(payment)),\n  setRedirectToOrder: (status) => dispatch(setRedirectToOrder(status)),\n  confirmOrder: (info) => dispatch(confirmOrder(info)),\n  clearPromo: () => dispatch(clearPromo())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutTab);\n","export const futureDate = (numOfDay) =>{\n    const future = new Date();\n    future.setDate(future.getDate() + Number(numOfDay));\n    return future.getDate()+'/'+ ((future.getMonth() + 1) < 10 ? '0' : '') + (future.getMonth() + 1) +'/'+future.getFullYear();\n}\n","import React, {useState,useEffect}  from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Row, Col, Card } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport {getUser} from '../redux/actions/authActions';\nimport { deliveryMethod } from '../redux/actions/shopActions'\nimport CheckoutTab from './CheckoutTab';\nimport PageLoader from \"../components/pageLoader/PageLoaderComponent\";\nimport './checkout.css';\nimport Logo from '../assets/images/logo.png'\n\nconst CheckoutPage = (props) => {\n\n  const cartItems = props.cart;\n  let totalBookPrice = 0;\n  let delivery_costs = props.delivery ? props.delivery[0].price : 0;\n\n  const [delivery_cost , setDeliveryCost] = useState(delivery_costs);\n  const totalQuantity = cartItems.map(data => data.quantity);\n\n  let sumTotalQty = totalQuantity.reduce((ac, crr) => ac + crr, 0)\n  window.localStorage.setItem(\"sumQty\", sumTotalQty);\n\n  if (sumTotalQty) {\n    sumTotalQty = window.localStorage.getItem('sumQty');\n  }\n\n  if (cartItems.length !== 0) {\n    cartItems.map(item => (totalBookPrice += item.amountPrice));\n  }\n\n  const promoInfo   = (props.promoInfo) ? props.promoInfo : { status: false };\n  let promoPrice    = totalBookPrice;\n\n  if(promoInfo.status){\n    const { discount, upto } = promoInfo;\n\n    if(Number(totalBookPrice) <= Number(upto))\n        promoPrice = totalBookPrice - (totalBookPrice*(discount/100));\n    else if(Number(totalBookPrice) > Number(upto))\n        promoPrice = totalBookPrice - upto;\n  }\n\n  let costWithDelivery = parseFloat(promoPrice) + parseFloat(delivery_cost);\n\n  useEffect(() => {\n    props.getUser();    \n  }, []);\n\n  const getPaymentMethod = (paymentMethod) => {\n    setDeliveryCost(paymentMethod.deliveryInfo.price);\n  }\n\n  return (\n    <>\n      <PageLoader loading={false}/>\n      <div className=\"allWrapper bgGray\">\n\n        <Container >\n          <Row>\n            <Col className=\"text-center\">\n              <div className=\"logoWrapper\">\n                <h1 className=\"logoText\"><Link to=\"/\"><img loading=\"lazy\" alt='A Book Store' src={Logo} style={{width:\"150px\", marginTop:\"35px\"}}/></Link></h1>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n\n        <main className=\"mainContent clearfix\" id=\"mainContent\">\n          {cartItems.length === 0 ?'' :\n          <section className=\"checkoutProductDetails clearfix pt-5 pb-5\" id=\"checkoutProductDetails\">\n            <Container>\n              <Card className=\"border-0\">\n                <Card.Body>\n                  <Row>\n                  <Col sm=\"8\">\n                    <div className=\"productCartList webScrollbar\">\n                    { cartItems.map((item,index)=>(\n                      <div key={index} className=\"productCartSingle d-flex align-items-center mb-2\">\n                          <div className=\"cartProductMedia bgGray\">\n                            <img loading=\"lazy\" src={item.cover_images.img_1} alt=\"\" />\n                          </div>\n                          <div className=\"cartProductDes pl-3\">\n                            <h3>\n                            <Link to={`/product/${item.id}`}>\n                               { item.name }\n                            </Link>\n                            </h3>\n                            <p>\n                            Price:<span className=\"price\"> Ksh { item.price } </span>\n                            </p>\n                            <p>\n                            Quantity:<span className=\"qut\"> { item.quantity } </span>\n                            </p>\n                            <p>\n                            Total:<span className=\"totalPrice\"> Ksh { item.amountPrice } </span>\n                            </p>\n                        </div>\n                  </div>))}\n                    </div>\n                 </Col>\n                  <Col className=\"align-self-end\">\n                        <div className=\"cartProductValue clearfix\" id=\"cartProductValue\">\n                          <ul className=\"productValue text-right\">\n                            <li>\n                              <strong>Total Quantity: </strong> {sumTotalQty}\n                            </li>\n\n                            <li>\n                              <strong>Total Product Price: </strong> Ksh {totalBookPrice}\n                            </li>\n                            { (!promoInfo.status) ?<></> :\n                                (\n                                <li>\n                                    <strong>Price after Discount: </strong> Ksh {promoPrice}\n                                </li>\n                                )\n                            }\n                            <li>\n                              <strong>Delivery:</strong> Ksh {delivery_cost}\n                            </li>\n\n                            <li>\n                              <strong>In Total Total:</strong> Ksh {costWithDelivery}\n                            </li>\n                          </ul>\n                        </div>\n                    </Col>\n                  </Row>\n                </Card.Body>\n              </Card>\n            </Container>\n          </section> }\n          <section className=\"checkoutInfoDetails pb-5 clearfix\" id=\"checkoutInfoDetails\">\n            <CheckoutTab productPrice = {promoPrice} costWithDelivery = {costWithDelivery} getPaymentMethod = {getPaymentMethod}/>\n          </section>\n        </main>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  cart:state.shop.cart,\n  delivery: state.shop.deliveryMethod,\n  promoInfo: state.shop.promo,\n  token: state.auth.jwt.token\n});\n\nconst mapDispatchToProps = dispatch => ({\n    getUser : () => dispatch(getUser()),\n    deliveryMethodFetch:()=> dispatch(deliveryMethod())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutPage);\n"],"sourceRoot":""}
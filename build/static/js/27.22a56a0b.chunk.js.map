{"version":3,"sources":["pages/ShopPage/styled.js","pages/ShopPage/shared/Sorting.jsx","pages/ShopPage/index.jsx"],"names":["Wrapper","styled","div","PaginationRowWrapper","Sorting","props","filterShow","sortBy","handleSortBy","classes","handleNext","handlePreviews","handleShowBook","pagination","totalPage","Row","className","htmlFor","value","onChange","name","show","aria-label","page_field","onClick","type","page","readOnly","useStyle","createUseStyles","width","marginRight","marginLeft","connect","state","initItem","undefined","book","total","initShowItem","cart","shop","totalItem","showItem","favorite","filter","dispatch","fetchBooks","keyword","fetchAllBook","booksByCategory","id","fetchBooksByCategory","filterByPrice","lowPrice","highestPrice","type_id","filterByPriceRange","filterShortByType","query","filterShortBy","stageList","category_id","fetchStages","getBooksByFilter","filterType","filterId","fetchBooksByFilter","useParams","title","pageNumber","filter_type","filter_id","data","pending","useState","higherPrice","lowerPrice","priceFilter","setPriceFilter","setPagination","setSortBy","length","favoriteItem","items","shopUrl","window","location","pathname","useEffect","isNaN","console","log","PriceRange","minPrice","maxPrice","e","target","setWidth","setWidths","document","body","clientWidth","setFilterSortShow","addEventListener","removeEventListener","filterSortShow","loading","Header","favorite_item","cartItem","MobileHeader","Container","Col","BreadCrumb","sm","callback","map","index","key","once","height","Card","to","src","cover_images","img_1","alt","book_author","price","NewsLetterComponent","Modal","onHide","size","centered","ModalBody","FooterComponent"],"mappings":"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","file":"static/js/27.22a56a0b.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const Wrapper = styled.div`\n  position: fixed;\n  top: 15%;\n  right: 5%;\n  z-index: 999;\n  //@media (max-width: 400px) {\n  //  top: 28%;\n  //}\n  //@media (max-width: 385px) {\n  //  top: 31%;\n  //}\n  //\n  //@media (max-width: 338px) {\n  //  top: 23%;\n  //}\n\n  .filter {\n    height: 35px;\n    width: 35px;\n    border-radius: 50%;\n    background-color: #000;\n    opacity: 0.6;\n    color: #fff;\n    display: none;\n    cursor: pointer;\n\n    @media (max-width: 990px) {\n      display: block;\n    }\n  }\n\n  .filter svg {\n    position: absolute;\n    top: 25%;\n    left: 23%;\n    font-size: 20px;\n  }\n`;\nexport const PaginationRowWrapper = styled.div`\n  /* @media (max-width: 990px) {\n    .Pagination-Row {\n      background-color: #f6f6f6;\n      z-index: 99;\n      position: fixed;\n      top: 5%;\n      left: 6.7%;\n      width: 80%;\n      padding: 1rem;\n      display: none;\n    }\n    .show {\n      display: block;\n    }\n  } */\n`;\n","import React from \"react\";\nimport {Row} from \"react-bootstrap\";\nimport {PaginationRowWrapper} from \"../styled\";\n\nconst Sorting = (props) => {\n    const {\n        filterShow,\n        sortBy,\n        handleSortBy,\n        classes,\n        handleNext,\n        handlePreviews,\n        handleShowBook,\n        pagination,\n        totalPage\n    } = props\n\n\n    return (\n        <PaginationRowWrapper>\n            <Row\n                className=\"Pagination-Row mb-5\"\n            >\n                <div className='col'>\n                    <ul className='singleFilter d-flex align-items-center'>\n                        <li>\n                            <label htmlFor=''>Sort By</label>\n                        </li>\n                        <li>\n                            <select\n                                className='filterSelect form-control'\n                                value={sortBy}\n                                onChange={handleSortBy}\n                            >\n                                <option value=''>select</option>\n                                <option value='Popular'>Popular</option>\n                                <option value='New'>New</option>\n                                <option value='Price: low to high'>\n                                    Price: low to high\n                                </option>\n                                <option value='Price: high to low'>\n                                    Price: high to low\n                                </option>\n                            </select>\n                        </li>\n                    </ul>\n                </div>\n\n                <div className='col'>\n                    <ul className='singleFilter d-flex align-items-center'>\n                        <li>\n                            <label>Show</label>\n                        </li>\n\n                        <li>\n                            <select\n                                name='up-filter-select'\n                                className='filterSelect form-control'\n                                value={pagination.show}\n                                onChange={handleShowBook}\n                            >\n                                <option value='20'>20</option>\n                                <option value='45'>45</option>\n                                <option value='100'>100</option>\n                            </select>\n                        </li>\n                    </ul>\n                </div>\n\n                <div className='col'>\n                    <nav aria-label='Page navigation'>\n                        <ul className='pagination align-items-center justify-content-between'>\n                            <li\n                                className={`page-item ${classes.page_field}`}\n                                onClick={handlePreviews}\n                            >\n                                <button className='page-link'>\n                                    <i className='fas fa-chevron-left'/>\n                                </button>\n                            </li>\n                            <li\n                                className={`page-item ${classes.page_field}`}\n                            >\n                                Page\n                            </li>\n                            <li\n                                className={`page-item ${classes.page_field}`}\n                            >\n                                <input\n                                    type='text'\n                                    className='page-link'\n                                    value={pagination.page}\n                                    readOnly\n                                />\n                            </li>\n                            <li className='page-item'>of</li>\n                            <li\n                                className={`page-item ${classes.page_field}`}\n                            >\n                                <input\n                                    type='text'\n                                    value={totalPage || 0}\n                                    className='page-link'\n                                    readOnly\n                                />\n                            </li>\n                            <li\n                                className='page-item'\n                                onClick={handleNext}\n                            >\n                                <button className='page-link'>\n                                    <i className='fas fa-chevron-right'/>\n                                </button>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n            </Row>\n        </PaginationRowWrapper>\n    )\n}\n\nexport default Sorting\n","import React, {useEffect, useState} from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport {Card, Col, Container, Modal, ModalBody, Row} from 'react-bootstrap';\nimport LazyLoad from 'react-lazyload';\nimport {connect} from 'react-redux';\nimport {createUseStyles} from 'react-jss';\nimport {\n    fetchAllBook,\n    fetchBooksByCategory,\n    fetchBooksByFilter,\n    filterByPriceRange,\n    filterShortBy,\n} from '../../redux/actions/bookActions';\nimport {fetchStages} from '../../redux/actions/filterAction';\nimport Filters from '../../components/shop/FiltersComponents';\nimport {NewsLetterComponent} from '../../components/offerPageComponents/NewsLetterComponent';\nimport FooterComponent from '../../components/FooterComponent/FooterComponent';\nimport HeaderComponent from '../../components/header/Header';\nimport MobileHeader from '../../components/header/MobileHeader';\nimport BreadCrumb from '../../components/BreadCrumb/BreadCrumb';\nimport '../assets/shop.css';\nimport PageLoader from '../../components/pageLoader/PageLoaderComponent';\nimport {BsFilter} from 'react-icons/bs';\nimport {IoMdClose} from 'react-icons/io';\nimport {Wrapper} from \"./styled\";\nimport Sorting from \"./shared/Sorting\";\n\nconst useStyle = createUseStyles({\n    page_field: {width: '50px', marginRight: '5px', marginLeft: '5px'},\n});\n\nconst ShopPage = (props) => {\n    const classes = useStyle();\n    const {\n        id,\n        title,\n        showItem,\n        pageNumber,\n        keyword,\n        filter_type,\n        filter_id,\n    } = useParams();\n    const {\n        stageList,\n        filterShortByType,\n        fetchBooks,\n        filterByPrice,\n        getBooksByFilter,\n        booksByCategory,\n        book: {totalPage, data, pending},\n    } = props;\n    const [priceFilter, setPriceFilter] = useState({\n        higherPrice: null,\n        lowerPrice: null,\n    });\n    const [pagination, setPagination] = useState({show: 20, page: 1});\n    let [sortBy, setSortBy] = useState('');\n    const totalItem = props.cart.length;\n    const favoriteItem = props.favorite.items;\n    const shopUrl = window.location.pathname;\n\n    useEffect(() => {\n        const {show, page} = pagination;\n        const {higherPrice, lowerPrice} = priceFilter;\n        stageList(id);\n        if (page && show && sortBy) {\n            return filterShortByType(page, show, sortBy);\n        } else if (shopUrl === '/shopping') {\n            return fetchBooks(page, show, null);\n        } else if (\n            page &&\n            show &&\n            lowerPrice &&\n            higherPrice &&\n            filter_type &&\n            filter_id\n        ) {\n            return filterByPrice(\n                page,\n                show,\n                lowerPrice,\n                higherPrice,\n                filter_type,\n                filter_id\n            );\n        } else if (page && show && filter_type && filter_id) {\n            return getBooksByFilter(page, show, filter_type, filter_id);\n        } else if (page && show && lowerPrice && higherPrice) {\n            return filterByPrice(page, show, lowerPrice, higherPrice);\n        } else if (!isNaN(id) && id && title && page && show) {\n            console.log('fetch by catrr');\n            return booksByCategory(id, page, show);\n        } else if (id !== 'number' && pageNumber && showItem && keyword) {\n            console.log({page, show, keyword});\n            return fetchBooks(page, show, keyword);\n        }\n\n        return () => {\n            console.log('unmount shopage');\n\n            stageList(id);\n            if (page && show && sortBy) {\n                filterShortByType(page, show, sortBy);\n            } else if (shopUrl === '/shopping') {\n                fetchBooks(page, show, null);\n            } else if (id === 'all' && pageNumber && showItem && keyword) {\n                fetchBooks(page, show, keyword);\n            } else if (\n                page &&\n                show &&\n                lowerPrice &&\n                higherPrice &&\n                filter_type &&\n                filter_id\n            ) {\n                filterByPrice(\n                    page,\n                    show,\n                    lowerPrice,\n                    higherPrice,\n                    filter_type,\n                    filter_id\n                );\n            } else if (page && show && filter_type && filter_id) {\n                getBooksByFilter(page, show, filter_type, filter_id);\n            } else if (page && show && lowerPrice && higherPrice) {\n                filterByPrice(page, show, lowerPrice, higherPrice);\n            } else if (!isNaN(id) && id && title && page && show) {\n                console.log('fetch by cat unmount');\n                booksByCategory(id, page, show);\n            }\n        };\n    }, [\n        sortBy,\n        priceFilter,\n        id,\n        filter_type,\n        filter_id,\n        pagination,\n        stageList,\n        shopUrl,\n        pageNumber,\n        showItem,\n        keyword,\n        filterShortByType,\n        fetchBooks,\n        filterByPrice,\n        getBooksByFilter,\n        booksByCategory,\n        title,\n    ]);\n\n    const PriceRange = (minPrice, maxPrice) =>\n        setPriceFilter({higherPrice: maxPrice, lowerPrice: minPrice});\n\n    const handleShowBook = (e) =>\n        setPagination({...pagination, show: e.target.value});\n\n    const handleNext = () =>\n        pagination.page <= totalPage\n            ? setPagination({...pagination, page: pagination.page + 1})\n            : pagination;\n\n    const handlePreviews = () =>\n        pagination.page !== 1 || pagination > 0\n            ? setPagination({...pagination, page: pagination.page - 1})\n            : pagination;\n\n    const handleSortBy = (e) => setSortBy(e.target.value);\n\n    //floating filter\n    // const [filterShow, setFilterShow] = useState(false);\n    const [width, setWidth] = useState();\n\n    // const handleFilterClick = (e) => {\n    //     setFilterShow(!filterShow);\n    // };\n\n    //set the body with and checking\n    const setWidths = () => {\n        setWidth(document.body.clientWidth);\n        if (width > 970) {\n            // setFilterShow(false);\n            setFilterSortShow(false)\n        }\n    };\n\n    //calling every time when window resize\n    useEffect(() => {\n        window.addEventListener('resize', setWidths);\n        return () => window.removeEventListener('resize', setWidths);\n    }, [width]);\n\n    useEffect(() => {\n        setWidths()\n    }, [])\n\n    //disabling body scrolling when floatng filter open\n    // useEffect(() => {\n    //     if (filterShow) {\n    //         document.body.style.overflow = 'hidden';\n    //     } else {\n    //         document.body.style.overflow = 'auto';\n    //     }\n    // }, [filterShow]);\n\n\n    const [filterSortShow, setFilterSortShow] = useState(false)\n\n    console.log(width)\n\n    return (\n        <>\n            <PageLoader loading={pending}/>\n            <div className='allWrapper'>\n                <Wrapper>\n                    <a className='filter' onClick={() => setFilterSortShow(true)}>\n                        {filterSortShow ? <IoMdClose/> : <BsFilter/>}\n                    </a>\n                </Wrapper>\n                <HeaderComponent\n                    favorite_item={favoriteItem.length}\n                    cartItem={totalItem}\n                />\n                <MobileHeader\n                    favorite_item={favoriteItem.length}\n                    cartItem={totalItem}\n                />\n                <main className='mainContent clearfix' id='mainContent'>\n                    <section\n                        className='sectionBreadcrumb secGap clearfix pb-0'\n                        id='sectionBreadcrumb'\n                    >\n                        <Container>\n                            <Row>\n                                <Col>\n                                    <BreadCrumb/>\n                                </Col>\n                            </Row>\n                        </Container>\n                    </section>\n\n                    <section\n                        className='productsBodyAsidebar clearfix'\n                        id='productsBodyAsidebar'\n                    >\n                        <Container>\n                            <Row>\n                                <Col sm='3'>\n                                    {width > 970 && (\n                                        <Filters callback={PriceRange}/>\n                                    )}\n                                </Col>\n\n                                <Col>\n                                    <div\n                                        className='allProductContent secGap clearfix'\n                                        id='allShopProduct'\n                                    >\n                                        <Row className='mb-5'>\n                                            <Col className='col'>\n                                                <h2 className='pageTitle'>\n                                                    <span>{title}</span> Books\n                                                </h2>\n                                            </Col>\n                                        </Row>\n                                        {data && data.length === 0 ? (\n                                            <h1 className='text-center'>Sorry, No Result Found :(</h1>\n                                        ) : (\n                                            <>\n                                                {width > 970 && (\n                                                    <Sorting\n                                                        sortBy={sortBy}\n                                                        handleSortBy={handleSortBy}\n                                                        pagination={pagination}\n                                                        handleShowBook={handleShowBook}\n                                                        classes={classes}\n                                                        handlePreviews={handlePreviews}\n                                                        totalPage={totalPage}\n                                                        handleNext={handleNext}\n                                                    />\n                                                )}\n\n\n                                                <Row className='Product_Row'>\n                                                    {data && data.length === 0 ? (\n                                                        <></>\n                                                    ) : (\n                                                        data &&\n                                                        data.map((book, index) => {\n                                                            return (\n                                                                <Col key={index} sm='3 mb-5'>\n                                                                    <LazyLoad once={true} height={200}>\n                                                                        <Card\n                                                                            className='productCard border-0 bg-transparent'>\n                                                                            <div className='productMedia mb-3 bgGray'>\n                                                                                <Link to={`/product/${book.id}`}>\n                                                                                    <img\n                                                                                        loading='lazy'\n                                                                                        src={\n                                                                                            book.cover_images !== null\n                                                                                                ? `${book.cover_images.img_1}`\n                                                                                                : ''\n                                                                                        }\n                                                                                        alt=''\n                                                                                    />\n                                                                                </Link>\n                                                                            </div>\n\n                                                                            <div className='productContent'>\n                                                                                <Link to={`/product/${book.id}`}>\n                                                                                    <h4 className='productTitle limit-character'>\n                                                                                        {book.name}\n                                                                                    </h4>\n                                                                                </Link>\n                                                                                <h5 className='authorName'>\n                                                                                    {book.book_author.name}\n                                                                                </h5>\n                                                                                <p className='productPrice'>\n                                                                                    Ksh {book.price}\n                                                                                </p>\n                                                                            </div>\n                                                                        </Card>\n                                                                    </LazyLoad>\n                                                                </Col>\n                                                            );\n                                                        })\n                                                    )}\n                                                </Row>\n\n                                                <Row className='Pagination-Row mt-5'>\n                                                    <div className='col'>\n                                                        <ul className='singleFilter d-flex align-items-center'>\n                                                            <li>\n                                                                <label htmlFor=''>Sort By</label>\n                                                            </li>\n                                                            <li>\n                                                                <select\n                                                                    className='filterSelect form-control'\n                                                                    value={sortBy}\n                                                                    onChange={handleSortBy}\n                                                                >\n                                                                    <option value=''>select</option>\n                                                                    <option value='Popular'>Popular</option>\n                                                                    <option value='New'>New</option>\n                                                                    <option value='Price: low to high'>\n                                                                        Price: low to high\n                                                                    </option>\n                                                                    <option value='Price: high to low'>\n                                                                        Price: high to low\n                                                                    </option>\n                                                                </select>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n\n                                                    <div className='col'>\n                                                        <ul className='singleFilter d-flex align-items-center'>\n                                                            <li>\n                                                                <label htmlFor=''>Show</label>\n                                                            </li>\n\n                                                            <li>\n                                                                <select\n                                                                    name='up-filter-select'\n                                                                    className='filterSelect form-control'\n                                                                    value={pagination.show}\n                                                                    onChange={handleShowBook}\n                                                                >\n                                                                    <option value='20'>20</option>\n                                                                    <option value='45'>45</option>\n                                                                    <option value='100'>100</option>\n                                                                </select>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n\n                                                    <div className='col'>\n                                                        <nav aria-label='Page navigation'>\n                                                            <ul className='pagination align-items-center justify-content-between'>\n                                                                <li\n                                                                    className='page-item'\n                                                                    onClick={handlePreviews}\n                                                                >\n                                                                    <button className='page-link'>\n                                                                        <i className='fas fa-chevron-left'/>\n                                                                    </button>\n                                                                </li>\n                                                                <li\n                                                                    className={`page-item ${classes.page_field}`}\n                                                                >\n                                                                    Page\n                                                                </li>\n                                                                <li\n                                                                    className={`page-item ${classes.page_field}`}\n                                                                >\n                                                                    <input\n                                                                        type='text'\n                                                                        className='page-link'\n                                                                        value={pagination.page}\n                                                                        readOnly\n                                                                    />\n                                                                </li>\n                                                                <li className='page-item'>of</li>\n                                                                <li\n                                                                    className={`page-item ${classes.page_field}`}\n                                                                >\n                                                                    <input\n                                                                        type='text'\n                                                                        value={totalPage || ' 0'}\n                                                                        className='page-link'\n                                                                        readOnly\n                                                                    />\n                                                                </li>\n                                                                <li className='page-item' onClick={handleNext}>\n                                                                    <button className='page-link'>\n                                                                        <i className='fas fa-chevron-right'/>\n                                                                    </button>\n                                                                </li>\n                                                            </ul>\n                                                        </nav>\n                                                    </div>\n                                                </Row>\n                                            </>\n                                        )}\n                                    </div>\n                                </Col>\n                            </Row>\n                        </Container>\n                    </section>\n                    <section\n                        className='mailSubscribe clearfix sectionBgImage sectionBgImg01 secGap'\n                        id='mailSubscribe'\n                    >\n                        <Container className='container'>\n                            <NewsLetterComponent/>\n                        </Container>\n                    </section>\n                </main>\n\n                <Modal show={filterSortShow} onHide={() => setFilterSortShow(false)} size=\"lg\" centered>\n                    <ModalBody>\n                        <Filters callback={PriceRange}/>\n\n                        <h2 className='asideTitle'>Sorting</h2>\n                        <Sorting\n                            // filterShow={filterShow}\n                            sortBy={sortBy}\n                            handleSortBy={handleSortBy}\n                            pagination={pagination}\n                            handleShowBook={handleShowBook}\n                            classes={classes}\n                            handlePreviews={handlePreviews}\n                            totalPage={totalPage}\n                            handleNext={handleNext}\n                        />\n                    </ModalBody>\n                </Modal>\n                <FooterComponent/>\n            </div>\n        </>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    const initItem = state.book.total !== undefined ? state.book.total : 1;\n    const initShowItem = state.book.show !== undefined ? state.book.show : 5;\n    return {\n        book: state.book ? state.book : [],\n        cart: state.shop.cart,\n        totalItem: initItem,\n        showItem: initShowItem,\n        favorite: state.favorite,\n        filter: state.filter,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchBooks: (page, show, keyword) =>\n            dispatch(fetchAllBook(page, show, keyword)),\n        booksByCategory: (id, page, show) =>\n            dispatch(fetchBooksByCategory(id, page, show)),\n        filterByPrice: (page, show, lowPrice, highestPrice, type, type_id) =>\n            dispatch(\n                filterByPriceRange(page, show, lowPrice, highestPrice, type, type_id)\n            ),\n        filterShortByType: (page, show, query) =>\n            dispatch(filterShortBy(page, show, query)),\n        stageList: (category_id) => dispatch(fetchStages(category_id)),\n        getBooksByFilter: (page, show, filterType, filterId) =>\n            dispatch(fetchBooksByFilter(page, show, filterType, filterId)),\n    };\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopPage);\n"],"sourceRoot":""}
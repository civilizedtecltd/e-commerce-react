(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[27],{385:function(e,a,t){"use strict";t.r(a);var l,n,c=t(3),r=t(18),o=t(0),i=t.n(o),m=t(12),s=t(6),u=t(46),p=t(53),g=t(20),E=t(170),d=t(94),h=t(160),f=t(55),b=t.n(f),N=t(11),v=t(76),w=t(22),y=t(25),k=t(174),P=t(62),x=t(63),O=t(60),j=t(61),B=t(171),S=(t(173),t(95)),_=t(299),C=t(298),F=t(35),z=t(33),I=z.a.div(l||(l=Object(F.a)(["\n  position: fixed;\n  top: 15%;\n  right: 5%;\n  z-index: 999;\n  //@media (max-width: 400px) {\n  //  top: 28%;\n  //}\n  //@media (max-width: 385px) {\n  //  top: 31%;\n  //}\n  //\n  //@media (max-width: 338px) {\n  //  top: 23%;\n  //}\n\n  .filter {\n    height: 35px;\n    width: 35px;\n    border-radius: 50%;\n    background-color: #000;\n    opacity: 0.6;\n    color: #fff;\n    display: none;\n    cursor: pointer;\n\n    @media (max-width: 990px) {\n      display: block;\n    }\n  }\n\n  .filter svg {\n    position: absolute;\n    top: 25%;\n    left: 23%;\n    font-size: 20px;\n  }\n"]))),L=z.a.div(n||(n=Object(F.a)(["\n  /* @media (max-width: 990px) {\n    .Pagination-Row {\n      background-color: #f6f6f6;\n      z-index: 99;\n      position: fixed;\n      top: 5%;\n      left: 6.7%;\n      width: 80%;\n      padding: 1rem;\n      display: none;\n    }\n    .show {\n      display: block;\n    }\n  } */\n"]))),R=function(e){e.filterShow;var a=e.sortBy,t=e.handleSortBy,l=e.classes,n=e.handleNext,c=e.handlePreviews,r=e.handleShowBook,o=e.pagination,m=e.totalPage;return i.a.createElement(L,null,i.a.createElement(p.a,{className:"Pagination-Row mb-5"},i.a.createElement("div",{className:"col"},i.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},i.a.createElement("li",null,i.a.createElement("label",{htmlFor:""},"Sort By")),i.a.createElement("li",null,i.a.createElement("select",{className:"filterSelect form-control",value:a,onChange:t},i.a.createElement("option",{value:""},"select"),i.a.createElement("option",{value:"Popular"},"Popular"),i.a.createElement("option",{value:"New"},"New"),i.a.createElement("option",{value:"Price: low to high"},"Price: low to high"),i.a.createElement("option",{value:"Price: high to low"},"Price: high to low"))))),i.a.createElement("div",{className:"col"},i.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},i.a.createElement("li",null,i.a.createElement("label",null,"Show")),i.a.createElement("li",null,i.a.createElement("select",{name:"up-filter-select",className:"filterSelect form-control",value:o.show,onChange:r},i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"100"},"100"))))),i.a.createElement("div",{className:"col"},i.a.createElement("nav",{"aria-label":"Page navigation"},i.a.createElement("ul",{className:"pagination align-items-center justify-content-between"},i.a.createElement("li",{className:"page-item ".concat(l.page_field),onClick:c},i.a.createElement("button",{className:"page-link"},i.a.createElement("i",{className:"fas fa-chevron-left"}))),i.a.createElement("li",{className:"page-item ".concat(l.page_field)},"Page"),i.a.createElement("li",{className:"page-item ".concat(l.page_field)},i.a.createElement("input",{type:"text",className:"page-link",value:o.page,readOnly:!0})),i.a.createElement("li",{className:"page-item"},"of"),i.a.createElement("li",{className:"page-item ".concat(l.page_field)},i.a.createElement("input",{type:"text",value:m||0,className:"page-link",readOnly:!0})),i.a.createElement("li",{className:"page-item",onClick:n},i.a.createElement("button",{className:"page-link"},i.a.createElement("i",{className:"fas fa-chevron-right"}))))))))},T=Object(v.a)({page_field:{width:"50px",marginRight:"5px",marginLeft:"5px"}});a.default=Object(N.b)((function(e){var a=void 0!==e.book.total?e.book.total:1,t=void 0!==e.book.show?e.book.show:5;return{book:e.book?e.book:[],cart:e.shop.cart,totalItem:a,showItem:t,favorite:e.favorite,filter:e.filter}}),(function(e){return{fetchBooks:function(a,t,l){return e(Object(w.a)(a,t,l))},booksByCategory:function(a,t,l){return e(Object(w.b)(a,t,l))},filterByPrice:function(a,t,l,n,c,r){return e(Object(w.j)(a,t,l,n,c,r))},filterShortByType:function(a,t,l){return e(Object(w.k)(a,t,l))},stageList:function(a){return e(Object(y.i)(a))},getBooksByFilter:function(a,t,l,n){return e(Object(w.c)(a,t,l,n))}}}))((function(e){var a=T(),t=Object(m.m)(),l=t.id,n=t.title,f=t.showItem,N=t.pageNumber,v=t.keyword,w=t.filter_type,y=t.filter_id,F=e.stageList,z=e.filterShortByType,L=e.fetchBooks,G=e.filterByPrice,A=e.getBooksByFilter,J=e.booksByCategory,W=e.book,H=W.totalPage,K=W.data,M=W.pending,q=Object(o.useState)({higherPrice:null,lowerPrice:null}),D=Object(r.a)(q,2),Q=D[0],U=D[1],V=Object(o.useState)({show:20,page:1}),X=Object(r.a)(V,2),Y=X[0],Z=X[1],$=Object(o.useState)(""),ee=Object(r.a)($,2),ae=ee[0],te=ee[1],le=e.cart.length,ne=e.favorite.items,ce=window.location.pathname;Object(o.useEffect)((function(){var e=Y.show,a=Y.page,t=Q.higherPrice,c=Q.lowerPrice;return F(l),a&&e&&ae?z(a,e,ae):"/shopping"===ce?L(a,e,null):a&&e&&c&&t&&w&&y?G(a,e,c,t,w,y):a&&e&&w&&y?A(a,e,w,y):a&&e&&c&&t?G(a,e,c,t):!isNaN(l)&&l&&n&&a&&e?(console.log("fetch by catrr"),J(l,a,e)):"number"!==l&&N&&f&&v?(console.log({page:a,show:e,keyword:v}),L(a,e,v)):function(){console.log("unmount shopage"),F(l),a&&e&&ae?z(a,e,ae):"/shopping"===ce?L(a,e,null):"all"===l&&N&&f&&v?L(a,e,v):a&&e&&c&&t&&w&&y?G(a,e,c,t,w,y):a&&e&&w&&y?A(a,e,w,y):a&&e&&c&&t?G(a,e,c,t):!isNaN(l)&&l&&n&&a&&e&&(console.log("fetch by cat unmount"),J(l,a,e))}}),[ae,Q,l,w,y,Y,F,ce,N,f,v,z,L,G,A,J,n]);var re=function(e,a){return U({higherPrice:a,lowerPrice:e})},oe=function(e){return Z(Object(c.a)(Object(c.a)({},Y),{},{show:e.target.value}))},ie=function(){return Y.page<=H?Z(Object(c.a)(Object(c.a)({},Y),{},{page:Y.page+1})):Y},me=function(){return 1!==Y.page||Y>0?Z(Object(c.a)(Object(c.a)({},Y),{},{page:Y.page-1})):Y},se=function(e){return te(e.target.value)},ue=Object(o.useState)(),pe=Object(r.a)(ue,2),ge=pe[0],Ee=pe[1],de=function(){Ee(document.body.clientWidth),ge>970&&Ne(!1)};Object(o.useEffect)((function(){return window.addEventListener("resize",de),function(){return window.removeEventListener("resize",de)}}),[ge]),Object(o.useEffect)((function(){de()}),[]);var he=Object(o.useState)(!1),fe=Object(r.a)(he,2),be=fe[0],Ne=fe[1];return console.log(ge),i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,{loading:M}),i.a.createElement("div",{className:"allWrapper"},i.a.createElement(I,null,i.a.createElement("a",{className:"filter",onClick:function(){return Ne(!0)}},be?i.a.createElement(C.a,null):i.a.createElement(_.a,null))),i.a.createElement(O.a,{favorite_item:ne.length,cartItem:le}),i.a.createElement(j.a,{favorite_item:ne.length,cartItem:le}),i.a.createElement("main",{className:"mainContent clearfix",id:"mainContent"},i.a.createElement("section",{className:"sectionBreadcrumb secGap clearfix pb-0",id:"sectionBreadcrumb"},i.a.createElement(u.a,null,i.a.createElement(p.a,null,i.a.createElement(g.a,null,i.a.createElement(B.a,null))))),i.a.createElement("section",{className:"productsBodyAsidebar clearfix",id:"productsBodyAsidebar"},i.a.createElement(u.a,null,i.a.createElement(p.a,null,i.a.createElement(g.a,{sm:"3"},ge>970&&i.a.createElement(k.a,{callback:re})),i.a.createElement(g.a,null,i.a.createElement("div",{className:"allProductContent secGap clearfix",id:"allShopProduct"},i.a.createElement(p.a,{className:"mb-5"},i.a.createElement(g.a,{className:"col"},i.a.createElement("h2",{className:"pageTitle"},i.a.createElement("span",null,n)," Books"))),K&&0===K.length?i.a.createElement("h1",{className:"text-center"},"Sorry, No Result Found :("):i.a.createElement(i.a.Fragment,null,ge>970&&i.a.createElement(R,{sortBy:ae,handleSortBy:se,pagination:Y,handleShowBook:oe,classes:a,handlePreviews:me,totalPage:H,handleNext:ie}),i.a.createElement(p.a,{className:"Product_Row"},K&&0===K.length?i.a.createElement(i.a.Fragment,null):K&&K.map((function(e,a){return i.a.createElement(g.a,{key:a,sm:"3 mb-5"},i.a.createElement(b.a,{once:!0,height:200},i.a.createElement(E.a,{className:"productCard border-0 bg-transparent"},i.a.createElement("div",{className:"productMedia mb-3 bgGray"},i.a.createElement(s.Link,{to:"/product/".concat(e.id)},i.a.createElement("img",{loading:"lazy",src:null!==e.cover_images?"".concat(e.cover_images.img_1):"",alt:""}))),i.a.createElement("div",{className:"productContent"},i.a.createElement(s.Link,{to:"/product/".concat(e.id)},i.a.createElement("h4",{className:"productTitle limit-character"},e.name)),i.a.createElement("h5",{className:"authorName"},e.book_author.name),i.a.createElement("p",{className:"productPrice"},"Ksh ",e.price)))))}))),i.a.createElement(p.a,{className:"Pagination-Row mt-5"},i.a.createElement("div",{className:"col"},i.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},i.a.createElement("li",null,i.a.createElement("label",{htmlFor:""},"Sort By")),i.a.createElement("li",null,i.a.createElement("select",{className:"filterSelect form-control",value:ae,onChange:se},i.a.createElement("option",{value:""},"select"),i.a.createElement("option",{value:"Popular"},"Popular"),i.a.createElement("option",{value:"New"},"New"),i.a.createElement("option",{value:"Price: low to high"},"Price: low to high"),i.a.createElement("option",{value:"Price: high to low"},"Price: high to low"))))),i.a.createElement("div",{className:"col"},i.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},i.a.createElement("li",null,i.a.createElement("label",{htmlFor:""},"Show")),i.a.createElement("li",null,i.a.createElement("select",{name:"up-filter-select",className:"filterSelect form-control",value:Y.show,onChange:oe},i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"45"},"45"),i.a.createElement("option",{value:"100"},"100"))))),i.a.createElement("div",{className:"col"},i.a.createElement("nav",{"aria-label":"Page navigation"},i.a.createElement("ul",{className:"pagination align-items-center justify-content-between"},i.a.createElement("li",{className:"page-item",onClick:me},i.a.createElement("button",{className:"page-link"},i.a.createElement("i",{className:"fas fa-chevron-left"}))),i.a.createElement("li",{className:"page-item ".concat(a.page_field)},"Page"),i.a.createElement("li",{className:"page-item ".concat(a.page_field)},i.a.createElement("input",{type:"text",className:"page-link",value:Y.page,readOnly:!0})),i.a.createElement("li",{className:"page-item"},"of"),i.a.createElement("li",{className:"page-item ".concat(a.page_field)},i.a.createElement("input",{type:"text",value:H||" 0",className:"page-link",readOnly:!0})),i.a.createElement("li",{className:"page-item",onClick:ie},i.a.createElement("button",{className:"page-link"},i.a.createElement("i",{className:"fas fa-chevron-right"}))))))))))))),i.a.createElement("section",{className:"mailSubscribe clearfix sectionBgImage sectionBgImg01 secGap",id:"mailSubscribe"},i.a.createElement(u.a,{className:"container"},i.a.createElement(P.a,null)))),i.a.createElement(d.a,{show:be,onHide:function(){return Ne(!1)},size:"lg",centered:!0},i.a.createElement(h.a,null,i.a.createElement(k.a,{callback:re}),i.a.createElement("h2",{className:"asideTitle"},"Sorting"),i.a.createElement(R,{sortBy:ae,handleSortBy:se,pagination:Y,handleShowBook:oe,classes:a,handlePreviews:me,totalPage:H,handleNext:ie}))),i.a.createElement(x.a,null)))}))}}]);
//# sourceMappingURL=27.389a4b2a.chunk.js.map
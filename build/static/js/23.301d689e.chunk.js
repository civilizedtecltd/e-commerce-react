(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[23],{306:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(19),s=a(112),i=a(307);t.a=function(){return c.a.createElement(r.a,{sm:"2"},c.a.createElement("aside",{className:"userAsideBar pt-3 clearfix shadow",id:"userAsideBar"},c.a.createElement("nav",{className:"userNav"},c.a.createElement("ul",{className:"userNavBar"},i.map((function(e,t){return c.a.createElement(s.a,{key:t,NavItem:e.nav_item,ClassName:e.class,Title:e.title,Url:e.url,IconName:e.icon_name,ActiveClassName:e.active_link})}))))))}},307:function(e){e.exports=JSON.parse('[{"nav_item":"nav-item","url":"my-order","icon_name":"fas fa-clipboard-list","title":"My orders","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"payment-methods","icon_name":"fas fa-wallet","title":"Payment methods","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"profile-settings","icon_name":"fas fa-cog","title":"Profile settings","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"email-subscription","icon_name":"far fa-envelope","title":"Email subscription","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"logout","icon_name":"fas fa-sign-out-alt","title":"Log out","class":"nav-link","active_link":"active"}]')},360:function(e,t,a){"use strict";a.r(t);var n=a(93),c=a.n(n),r=a(111),s=a(13),i=a(17),l=a(0),o=a.n(l),m=a(48),u=a(55),b=a(19),p=a(165),f=a(107),v=a(292),h=a(164),d=a(60),k=a(61),E=a(10),g=a(306),y=a(91),w=a(7),_=a.n(w),O=a(8),N=a(64);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=Object(E.b)((function(e){return{cart:e.shop.cart,favorite:e.favorite,auth:e.auth.user,subscribeOption:e.site.subscriptions,pending:e.site.pending}}),(function(e){return{AllSubscriptions:function(t){return e(Object(N.b)(t))},setSubscriptions:function(t){return e(Object(N.d)(t))}}}))((function(e){var t=e.auth,a=e.AllSubscriptions,n=e.pending,E=e.subscribeOption,w=Object(l.useState)(!1),N=Object(i.a)(w,2),C=N[0],S=N[1],x=Object(l.useState)({show:!1,type:"unknown",message:""}),A=Object(i.a)(x,2),I=A[0],P=A[1],B=j({},E);Object(l.useEffect)((function(){Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t.email);case 1:case"end":return e.stop()}}),e)})))()}),[t.email,C]);var G=function(t){if("unsubscribe"===t.target.name&&t.target.checked)return e.setSubscriptions({announcement:!1,sale_invitation:!1,weekly_newsletter:!1,unsubscribe:!0});e.setSubscriptions(j({},B,Object(s.a)({},t.target.name,t.target.checked)))},T=function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),_.a.post(O.a.__SET_SUBSCRIPTIONS,{email:t.email,subscriber_id:t.id,announcement:B.announcement,sale_invitation:B.sale_invitation,weekly_newsletter:B.weekly_newsletter,unsubscribe:B.unsubscribe}).then((function(e){P({show:!0,type:"success",message:e.data.message}),S(!0),setTimeout((function(){P({show:!1,type:"unknown",message:""})}),5e3)})).catch((function(e){e.response&&(P({show:!0,type:"danger",message:e.response.data.message}),S(!1),setTimeout((function(){P({show:!1,type:"unknown",message:""})}),5e3))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=e.cart.length,M=e.favorite.items.length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{loading:n}),o.a.createElement("div",{className:"allWrapper"},o.a.createElement(d.a,{favorite_item:M,cartItem:D,menuActive:!0}),o.a.createElement(k.a,{favorite_item:M,cartItem:D,menuActive:!0}),o.a.createElement("div",{className:"userBodyArea clearfix",id:"userBodyArea"},o.a.createElement(m.a,{fluid:!0,className:"pl-0 pr-0"},o.a.createElement(u.a,{noGutters:!0},o.a.createElement(g.a,null),o.a.createElement(b.a,null,o.a.createElement("main",{className:"userMainContent clearfix bgImage bgImg03",id:"userMainContent"},o.a.createElement("section",{className:"myOrderArea secGap clearfix",id:"myOrderArea"},o.a.createElement(m.a,{fluid:!0},o.a.createElement(u.a,null,o.a.createElement(b.a,{sm:"12"},o.a.createElement(p.a,null,o.a.createElement(p.a.Body,{className:"pt-5"},o.a.createElement("h2",{className:"cardSecTitle mb-3"},"Manage email subscription"),o.a.createElement("h5",{className:"cardSubtitle mb-2"},"Please choose which types of emails you would like to receive from us"),o.a.createElement(f.a,{className:"profileSettingsForm",onSubmit:T},o.a.createElement(u.a,null,o.a.createElement(b.a,{sm:"12"},o.a.createElement(f.a.Group,{controlId:"formCheckbox1",className:"formCheckbox mt-2"},o.a.createElement(f.a.Check,{type:"checkbox",label:"Announcements",name:"announcement",disabled:B.unsubscribe&&!0,checked:B.announcement,onChange:G}))),o.a.createElement(b.a,{sm:"12"},o.a.createElement(f.a.Group,{controlId:"formCheckbox2",className:"formCheckbox mt-2"},o.a.createElement(f.a.Check,{type:"checkbox",label:"Sale invitations",name:"sale_invitation",disabled:B.unsubscribe&&!0,checked:B.sale_invitation,onChange:G}))),o.a.createElement(b.a,{sm:"12"},o.a.createElement(f.a.Group,{controlId:"formCheckbox3",className:"formCheckbox mt-2"},o.a.createElement(f.a.Check,{type:"checkbox",label:"Weekly Newsletter",name:"weekly_newsletter",disabled:B.unsubscribe&&!0,checked:B.weekly_newsletter,onChange:G}))),o.a.createElement(b.a,{sm:"12"},o.a.createElement(f.a.Group,{controlId:"formCheckbox4",className:"formCheckbox mt-2"},o.a.createElement(f.a.Check,{type:"checkbox",label:"Unsubscribe",name:"unsubscribe",checked:B.unsubscribe,onChange:G}))),o.a.createElement(b.a,{sm:"12"},o.a.createElement(v.a,{className:"mt-3",type:"submit",name:"save"},"Save")))))))),o.a.createElement(h.a,{show:I.show,variant:I.type,onClose:function(){return P(j({},I,{show:!1}))},dismissible:!0},o.a.createElement("p",null,I.message)))))))))))}))}}]);
//# sourceMappingURL=23.301d689e.chunk.js.map
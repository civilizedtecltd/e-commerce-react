(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[13],{306:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(19),l=t(112),m=t(307);a.a=function(){return r.a.createElement(c.a,{sm:"2"},r.a.createElement("aside",{className:"userAsideBar pt-3 clearfix shadow",id:"userAsideBar"},r.a.createElement("nav",{className:"userNav"},r.a.createElement("ul",{className:"userNavBar"},m.map((function(e,a){return r.a.createElement(l.a,{key:a,NavItem:e.nav_item,ClassName:e.class,Title:e.title,Url:e.url,IconName:e.icon_name,ActiveClassName:e.active_link})}))))))}},307:function(e){e.exports=JSON.parse('[{"nav_item":"nav-item","url":"my-order","icon_name":"fas fa-clipboard-list","title":"My orders","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"payment-methods","icon_name":"fas fa-wallet","title":"Payment methods","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"profile-settings","icon_name":"fas fa-cog","title":"Profile settings","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"email-subscription","icon_name":"far fa-envelope","title":"Email subscription","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"logout","icon_name":"fas fa-sign-out-alt","title":"Log out","class":"nav-link","active_link":"active"}]')},309:function(e,a,t){},378:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t(17),c=t(0),l=t.n(c),m=t(10),i=t(37),s=t.n(i),u=t(48),o=t(55),d=t(19),b=t(165),f=t(317),p=t(292),E=t(90),v=t(107),y=t(318),_=t(41),h=t(60),g=t(61),N=t(306),O=t(13),j=t(326),k=t(384),C=t(164);function P(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var w=function(e){var a=Object(c.useState)(!1),t=Object(r.a)(a,2),n=t[0],m=t[1],i=Object(c.useState)("This information is not valid!"),s=Object(r.a)(i,2),u=s[0],f=s[1],E=Object(c.useState)({}),_=Object(r.a)(E,2),h=_[0],g=_[1],N=Object(c.useState)(!1),j=Object(r.a)(N,2),k=j[0],w=j[1],D=function(e){w(!1),g(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?P(t,!0).forEach((function(a){Object(O.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},h,Object(O.a)({},e.target.name,e.target.value)))};return l.a.createElement(b.a.Body,{className:"addPaymentCard m-0 p-0"},l.a.createElement(o.a,null,l.a.createElement(d.a,{className:"p-0"},l.a.createElement(v.a,{className:"selectPaymentOption"},l.a.createElement("div",{className:"formRadioGroup bgGray mb-2"},l.a.createElement("div",{className:"payInfoDetails clearfix"},l.a.createElement("div",{className:"m-2"},l.a.createElement(C.a,{show:n,variant:"danger",onClose:function(){return m(!1)},dismissible:!0},l.a.createElement("p",null,u))),l.a.createElement("div",{className:"cardInfoForm p-3"},l.a.createElement(o.a,{className:"align-items-center"},l.a.createElement(d.a,{sm:"10"},l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Card number"),l.a.createElement(y.a,{format:"#### #### #### ####",placeholder:"____ ____ ____ ____",mask:["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_"],name:"card_number",className:"form-control",value:k?" ":h.card_number,onChange:D}))),l.a.createElement(d.a,null,l.a.createElement("img",{loading:"lazy",src:"",alt:"none"}))),l.a.createElement(o.a,{className:"align-items-center justify-content-between"},l.a.createElement(d.a,{sm:"4"},l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Expiry date"),l.a.createElement("ul",{className:"cardPayFiled d-flex align-items-center justify-content-start"},l.a.createElement("li",{className:"width-45"},l.a.createElement(y.a,{id:"card-mm",format:function(e){return function(e,a){return 1===e.length&&e[0]>a[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>a&&(e=a)),e}(e.substring(0,2),"12")},placeholder:"MM",mask:["M","M"],name:"mm",value:k?" ":h.mm,onChange:D})),l.a.createElement("li",{className:"cardBl"},"/"),l.a.createElement("li",{className:"width-45"},l.a.createElement(y.a,{id:"card-yy",format:function(e){return e.substring(0,2)},placeholder:"YY",mask:["Y","Y"],name:"yy",value:k?" ":h.yy,onChange:D}))))),l.a.createElement(d.a,{sm:{offset:4}},l.a.createElement(v.a.Group,{controlId:"card-cvv",className:"ccv-group"},l.a.createElement(v.a.Label,{className:"ccv-input"}," CVV "),l.a.createElement(y.a,{type:"text",id:"card-cvv",name:"ccv",format:"###",placeholder:"CVV",value:k?" ":h.ccv,onChange:D}))),l.a.createElement(d.a,{sm:"2"},l.a.createElement("img",{loading:"lazy",src:"",alt:"none"}))),l.a.createElement(o.a,null,l.a.createElement(d.a,null,l.a.createElement(p.a,{variant:"primary",type:"submit",onClick:function(a){return a.preventDefault(),h.card_number||h.mm||h.yy||h.ccv?h.card_number&&isNaN(Number(h.card_number[18]))?(f("Card Number should be 16 digit"),m(!0),setTimeout((function(){return m(!1)}),2e3)):h.card_number?h.mm?h.yy?h.ccv?void(h.card_number&&h.mm&&h.yy&&h.ccv&&(e.callback(h),w(!0))):(f("CVV should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(f("YY should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(f("MM should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(f("Card Number should not empty"),m(!0),setTimeout((function(){return m(!1)}),2e3)):(f("Field should not be empty"),m(!0),setTimeout((function(){return m(!1)}),2e3))}},"Add"))))))))))};function D(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?D(t,!0).forEach((function(a){Object(O.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function B(e){var a=e.children,t=e.eventKey,n=e.title,r=(e.name,Object(j.b)(t,(function(){1===t&&(document.getElementById("ch-2").checked=!1,document.getElementById("ch-3").checked=!1),2===t&&(document.getElementById("ch-1").checked=!1,document.getElementById("ch-3").checked=!1),3===t&&(document.getElementById("ch-1").checked=!1,document.getElementById("ch-2").checked=!1)})));return l.a.createElement(v.a.Check,{custom:!0,className:"ml-3",type:"radio",label:n,name:"payment",id:"ch-".concat(t),onClick:r},a)}var A=Object(m.b)(null,(function(e){return{setPayment:function(a){return e(Object(_.j)(a))}}}))((function(e){var a=Object(c.useState)({}),t=Object(r.a)(a,2),n=t[0],m=t[1],i=function(a){var t=S({},n,{},a);e.setPayment(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{defaultActiveKey:"0",onSelect:function(e){switch(Number(e)){case 1:m({payment_type:"MPESA"});break;case 2:m({payment_type:"VISA"});break;case 3:m({payment_type:"PAYPAL"});break;default:m(S({},n))}}},l.a.createElement("div",{className:"payment-header-card mt-3"},l.a.createElement(B,{eventKey:"1",title:"Mpesa"})),l.a.createElement(k.a.Collapse,{eventKey:"1"},l.a.createElement(w,{callback:i})),l.a.createElement("div",{className:"payment-header-card mt-3"},l.a.createElement(B,{eventKey:"2",title:"Visa"})),l.a.createElement(k.a.Collapse,{eventKey:"2"},l.a.createElement(w,{callback:i})),l.a.createElement("div",{className:"payment-header-card mt-3"},l.a.createElement(B,{eventKey:"3",title:"PayPal"})),l.a.createElement(k.a.Collapse,{eventKey:"3"},l.a.createElement(w,{callback:i}))))})),I=(t(309),t(91)),M=t(64);a.default=Object(m.b)((function(e){return{cart:e.shop.cart,favorite:e.favorite,payment:e.auth.user.payment,auth:e.auth.user}}),(function(e){return{deleteCard:function(a){return e(Object(_.e)(a))},update:function(a){return e(Object(_.l)(a))},subscriptions:function(a){return e(Object(M.b)(a))}}}))((function(e){var a=e.auth,t=e.subscriptions,m=Object(c.useState)(!1),i=Object(r.a)(m,2),_=i[0],O=i[1],j=Object(c.useState)(!1),k=Object(r.a)(j,2),C=k[0],P=k[1],w=e.cart.length,D=e.favorite.items.length,S=Object(c.useState)(null),B=Object(r.a)(S,2),M=B[0],x=B[1],V=Object(c.useState)(!1),Y=Object(r.a)(V,2),F=Y[0],T=Y[1],G=s()(e.payment)?[]:Object(n.a)(e.payment),K=Object(c.useState)(Object(n.a)(G)),L=Object(r.a)(K,2),H=L[0],J=L[1],U=Object(c.useState)(""),z=Object(r.a)(U,2),R=z[0],W=z[1],q=Object(c.useState)(""),Q=Object(r.a)(q,2),X=Q[0],Z=Q[1],$=Object(c.useState)(""),ee=Object(r.a)($,2),ae=ee[0],te=ee[1],ne=Object(c.useState)(""),re=Object(r.a)(ne,2),ce=re[0],le=re[1],me=function(e){e.preventDefault(),O(!_)},ie=function(){return P(!1)},se=function(e){e.preventDefault(),x(e.target.id),P(!0)};Object(c.useEffect)((function(){var e=a.email;return J({id:M,card_number:R,mm:X,yy:ae,ccv:ce}),t(e),function(){J({id:M,card_number:R,mm:X,yy:ae,ccv:ce}),t(e)}}),[R,M,ae,X,ce,a,t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{loading:e.favorite.pending}),l.a.createElement("div",{className:"allWrapper"},l.a.createElement(h.a,{favorite_item:D,cartItem:w,menuActive:!0}),l.a.createElement(g.a,{favorite_item:D,cartItem:w,menuActive:!0}),l.a.createElement("div",{className:"userBodyArea clearfix",id:"userBodyArea"},l.a.createElement(u.a,{fluid:!0,className:"pl-0 pr-0"},l.a.createElement(o.a,{noGutters:!0},l.a.createElement(N.a,null),l.a.createElement(d.a,null,l.a.createElement("main",{className:"userMainContent clearfix bgImage bgImg03",id:"userMainContent"},l.a.createElement("section",{className:"myOrderArea secGap clearfix",id:"myOrderArea"},l.a.createElement(u.a,{fluid:!0},l.a.createElement(o.a,null,l.a.createElement(d.a,null,l.a.createElement(b.a,{className:"fade-in"},l.a.createElement(b.a.Body,null,l.a.createElement(f.a,{responsive:!0,className:"cardTable"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," Payment methods "),l.a.createElement("th",null," Actions"))),l.a.createElement("tbody",null,0===G.length?l.a.createElement(l.a.Fragment,null):G.map((function(e){var a=e.card_number?e.card_number.slice(-4):"";return l.a.createElement("tr",{key:e.id,className:"cardNumberTable"},l.a.createElement("td",{className:"cardInfotd"},l.a.createElement("div",{className:"cardPaymentDetails"},l.a.createElement("h3",{className:"payTitle"},e.payment_type,l.a.createElement("span",{className:"cardNumber"},"**** **** **** ",a)),l.a.createElement("p",{className:"payExp"},"Expires in ",e.mm,"/",e.yy))),l.a.createElement("td",{className:"actionBtntd d-flex"},l.a.createElement(p.a,{className:"btn btnActionUpdate",value:e.id,onClick:function(e){e.preventDefault();var a=G.find((function(a){return a.id===Number(e.target.value)}));return W(a.card_number),Z(a.mm),te(a.yy),le(a.ccv),x(e.target.value),T(!0)}},"Update"),l.a.createElement(p.a,{id:e.id,className:"btn btnActionDelete",onClick:se},"Delete")))})))),_?"":l.a.createElement(p.a,{className:"btn btn-primary btnSm",onClick:me},"Add payment method"),_?l.a.createElement("div",{className:"add-payment d-flex align-items-center mt-4"},l.a.createElement("h3",null,"Add payment method"),l.a.createElement(p.a,{className:"btn btn-danger ml-3 btn-cancel",onClick:me},"Cancel")):"",_?l.a.createElement(A,null):"")))))))))))),l.a.createElement(E.a,{show:C,onHide:ie},l.a.createElement(E.a.Header,{closeButton:!0,className:"border-0"}),l.a.createElement(E.a.Body,{className:"cardModalCss"},"Are you sure ? You want to delete it..!"),l.a.createElement(E.a.Footer,{className:"border-0"},l.a.createElement(p.a,{id:M,name:"confirm",variant:"primary",onClick:function(a){return a.preventDefault(),e.deleteCard(a.target.id),P(!1)}},"Confirm"),l.a.createElement(p.a,{className:"btn modalCancelBtn",onClick:ie},"Cancel"))),l.a.createElement(E.a,{show:F,onHide:function(e){return T(!1)}},l.a.createElement(E.a.Header,{closeButton:!0,className:"border-0"}),l.a.createElement(E.a.Body,null,l.a.createElement(v.a,null,l.a.createElement("div",{className:"cardInfoForm p-3"},l.a.createElement(o.a,{className:"align-items-center"},l.a.createElement(d.a,{sm:"12"},l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Card number"),l.a.createElement(y.a,{format:"#### #### #### ####",placeholder:"____ ____ ____ ____",mask:["_","_","_","_","_","_","_","_","_","_","_","_","_","_","_","_"],name:"card_number",className:"form-control",value:R,onChange:function(e){return e.preventDefault(),W(e.target.value)}})))),l.a.createElement(o.a,null,l.a.createElement(d.a,{sm:"8"},l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Expiry date"),l.a.createElement("ul",{className:"justify-content-start d-flex"},l.a.createElement("li",{className:"ModalFromInput width-45"},l.a.createElement(y.a,{id:"card-mm",format:function(e){return function(e,a){return 1===e.length&&e[0]>a[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>a&&(e=a)),e}(e.substring(0,2),"12")},placeholder:"MM",mask:["M","M"],name:"mm",value:X,onChange:function(e){return e.preventDefault(),Z(e.target.value)}})),l.a.createElement("li",{className:"cardBl"},"/"),l.a.createElement("li",{className:"ModalFromInput width-45"},l.a.createElement(y.a,{id:"card-yy",format:function(e){return e.substring(0,2)},placeholder:"YY",mask:["Y","Y"],name:"yy",value:ae,onChange:function(e){return e.preventDefault(),te(e.target.value)}}))))),l.a.createElement(d.a,{sm:"4"},l.a.createElement(v.a.Group,{className:"ccv-group"},l.a.createElement(v.a.Label,{className:"ccv-input"}," CVV "),l.a.createElement(y.a,{type:"text",id:"card-cvv",name:"ccv",format:"###",placeholder:"CVV",value:ce,onChange:function(e){return e.preventDefault(),le(e.target.value)}}))))))),l.a.createElement(E.a.Footer,{className:"border-0"},l.a.createElement(p.a,{name:"confirm",variant:"primary",id:M,onClick:function(a){return a.preventDefault(),e.update(H),T(!1)}},"Confirm"),l.a.createElement(p.a,{className:"btn modalCancelBtn",onClick:function(e){return e.preventDefault(),T(!1)}},"Cancel"))))}))}}]);
//# sourceMappingURL=13.b5602931.chunk.js.map
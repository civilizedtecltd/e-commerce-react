(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[28],{409:function(e,a,t){"use strict";t.r(a);var n=t(3),l=t(15),c=t(0),r=t.n(c),o=t(12),i=t(7),m=t(55),s=t(56),u=t(20),p=t(180),g=t(95),E=t(171),d=t(58),f=t.n(d),h=t(11),b=t(80),N=t(22),v=t(24),w=t(183),k=t(65),y=t(66),P=t(63),x=t(64),O=t(181),j=(t(182),t(96)),B=t(308),S=t(307),_=t(35),C=t(33);function F(){var e=Object(_.a)(["\n  /* @media (max-width: 990px) {\n    .Pagination-Row {\n      background-color: #f6f6f6;\n      z-index: 99;\n      position: fixed;\n      top: 5%;\n      left: 6.7%;\n      width: 80%;\n      padding: 1rem;\n      display: none;\n    }\n    .show {\n      display: block;\n    }\n  } */\n"]);return F=function(){return e},e}function z(){var e=Object(_.a)(["\n  position: fixed;\n  top: 15%;\n  right: 5%;\n  z-index: 999;\n  //@media (max-width: 400px) {\n  //  top: 28%;\n  //}\n  //@media (max-width: 385px) {\n  //  top: 31%;\n  //}\n  //\n  //@media (max-width: 338px) {\n  //  top: 23%;\n  //}\n\n  .filter {\n    height: 35px;\n    width: 35px;\n    border-radius: 50%;\n    background-color: #000;\n    opacity: 0.6;\n    color: #fff;\n    display: none;\n    cursor: pointer;\n\n    @media (max-width: 990px) {\n      display: block;\n    }\n  }\n\n  .filter svg {\n    position: absolute;\n    top: 25%;\n    left: 23%;\n    font-size: 20px;\n  }\n"]);return z=function(){return e},e}var I=C.a.div(z()),L=C.a.div(F()),R=function(e){e.filterShow;var a=e.sortBy,t=e.handleSortBy,n=e.classes,l=e.handleNext,c=e.handlePreviews,o=e.handleShowBook,i=e.pagination,m=e.totalPage;return r.a.createElement(L,null,r.a.createElement(s.a,{className:"Pagination-Row mb-5"},r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},r.a.createElement("li",null,r.a.createElement("label",{htmlFor:""},"Sort By")),r.a.createElement("li",null,r.a.createElement("select",{className:"filterSelect form-control",value:a,onChange:t},r.a.createElement("option",{value:""},"select"),r.a.createElement("option",{value:"Popular"},"Popular"),r.a.createElement("option",{value:"New"},"New"),r.a.createElement("option",{value:"Price: low to high"},"Price: low to high"),r.a.createElement("option",{value:"Price: high to low"},"Price: high to low"))))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},r.a.createElement("li",null,r.a.createElement("label",null,"Show")),r.a.createElement("li",null,r.a.createElement("select",{name:"up-filter-select",className:"filterSelect form-control",value:i.show,onChange:o},r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"45"},"45"),r.a.createElement("option",{value:"100"},"100"))))),r.a.createElement("div",{className:"col"},r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination align-items-center justify-content-between"},r.a.createElement("li",{className:"page-item ".concat(n.page_field),onClick:c},r.a.createElement("button",{className:"page-link"},r.a.createElement("i",{className:"fas fa-chevron-left"}))),r.a.createElement("li",{className:"page-item ".concat(n.page_field)},"Page"),r.a.createElement("li",{className:"page-item ".concat(n.page_field)},r.a.createElement("input",{type:"text",className:"page-link",value:i.page,readOnly:!0})),r.a.createElement("li",{className:"page-item"},"of"),r.a.createElement("li",{className:"page-item ".concat(n.page_field)},r.a.createElement("input",{type:"text",value:m||0,className:"page-link",readOnly:!0})),r.a.createElement("li",{className:"page-item",onClick:l},r.a.createElement("button",{className:"page-link"},r.a.createElement("i",{className:"fas fa-chevron-right"}))))))))},T=Object(b.a)({page_field:{width:"50px",marginRight:"5px",marginLeft:"5px"}});a.default=Object(h.b)((function(e){var a=void 0!==e.book.total?e.book.total:1,t=void 0!==e.book.show?e.book.show:5;return{book:e.book?e.book:[],cart:e.shop.cart,totalItem:a,showItem:t,favorite:e.favorite,filter:e.filter}}),(function(e){return{fetchBooks:function(a,t,n){return e(Object(N.a)(a,t,n))},booksByCategory:function(a,t,n){return e(Object(N.b)(a,t,n))},filterByPrice:function(a,t,n,l,c,r){return e(Object(N.j)(a,t,n,l,c,r))},filterShortByType:function(a,t,n){return e(Object(N.k)(a,t,n))},stageList:function(a){return e(Object(v.i)(a))},getBooksByFilter:function(a,t,n,l){return e(Object(N.c)(a,t,n,l))}}}))((function(e){var a=T(),t=Object(o.m)(),d=t.id,h=t.title,b=t.showItem,N=t.pageNumber,v=t.keyword,_=t.filter_type,C=t.filter_id,F=e.stageList,z=e.filterShortByType,L=e.fetchBooks,G=e.filterByPrice,A=e.getBooksByFilter,J=e.booksByCategory,W=e.book,H=W.totalPage,K=W.data,M=W.pending,q=Object(c.useState)({higherPrice:null,lowerPrice:null}),D=Object(l.a)(q,2),Q=D[0],U=D[1],V=Object(c.useState)({show:20,page:1}),X=Object(l.a)(V,2),Y=X[0],Z=X[1],$=Object(c.useState)(""),ee=Object(l.a)($,2),ae=ee[0],te=ee[1],ne=e.cart.length,le=e.favorite.items,ce=window.location.pathname;Object(c.useEffect)((function(){var e=Y.show,a=Y.page,t=Q.higherPrice,n=Q.lowerPrice;return F(d),a&&e&&ae?z(a,e,ae):"/shopping"===ce?L(a,e,null):a&&e&&n&&t&&_&&C?G(a,e,n,t,_,C):a&&e&&_&&C?A(a,e,_,C):a&&e&&n&&t?G(a,e,n,t):!isNaN(d)&&d&&h&&a&&e?(console.log("fetch by catrr"),J(d,a,e)):"number"!==d&&N&&b&&v?(console.log({page:a,show:e,keyword:v}),L(a,e,v)):function(){console.log("unmount shopage"),F(d),a&&e&&ae?z(a,e,ae):"/shopping"===ce?L(a,e,null):"all"===d&&N&&b&&v?L(a,e,v):a&&e&&n&&t&&_&&C?G(a,e,n,t,_,C):a&&e&&_&&C?A(a,e,_,C):a&&e&&n&&t?G(a,e,n,t):!isNaN(d)&&d&&h&&a&&e&&(console.log("fetch by cat unmount"),J(d,a,e))}}),[ae,Q,d,_,C,Y,F,ce,N,b,v,z,L,G,A,J,h]);var re=function(e,a){return U({higherPrice:a,lowerPrice:e})},oe=function(e){return Z(Object(n.a)(Object(n.a)({},Y),{},{show:e.target.value}))},ie=function(){return Y.page<=H?Z(Object(n.a)(Object(n.a)({},Y),{},{page:Y.page+1})):Y},me=function(){return 1!==Y.page||Y>0?Z(Object(n.a)(Object(n.a)({},Y),{},{page:Y.page-1})):Y},se=function(e){return te(e.target.value)},ue=Object(c.useState)(),pe=Object(l.a)(ue,2),ge=pe[0],Ee=pe[1],de=function(){Ee(document.body.clientWidth),ge>970&&Ne(!1)};Object(c.useEffect)((function(){return window.addEventListener("resize",de),function(){return window.removeEventListener("resize",de)}}),[ge]),Object(c.useEffect)((function(){de()}),[]);var fe=Object(c.useState)(!1),he=Object(l.a)(fe,2),be=he[0],Ne=he[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{loading:M}),r.a.createElement("div",{className:"allWrapper"},r.a.createElement(I,null,r.a.createElement("a",{className:"filter",onClick:function(){return Ne(!0)}},be?r.a.createElement(S.a,null):r.a.createElement(B.a,null))),r.a.createElement(P.a,{favorite_item:le.length,cartItem:ne}),r.a.createElement(x.a,{favorite_item:le.length,cartItem:ne}),r.a.createElement("main",{className:"mainContent clearfix",id:"mainContent"},r.a.createElement("section",{className:"sectionBreadcrumb secGap clearfix pb-0",id:"sectionBreadcrumb"},r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(O.a,null))))),r.a.createElement("section",{className:"productsBodyAsidebar clearfix",id:"productsBodyAsidebar"},r.a.createElement(m.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{sm:"3"},ge>970&&r.a.createElement(w.a,{callback:re})),r.a.createElement(u.a,null,r.a.createElement("div",{className:"allProductContent secGap clearfix",id:"allShopProduct"},r.a.createElement(s.a,{className:"mb-5"},r.a.createElement(u.a,{className:"col"},r.a.createElement("h2",{className:"pageTitle"},r.a.createElement("span",null,h)," Books"))),K&&0===K.length?r.a.createElement("h1",{className:"text-center"},"Sorry, No Result Found :("):r.a.createElement(r.a.Fragment,null,ge>970&&r.a.createElement(R,{sortBy:ae,handleSortBy:se,pagination:Y,handleShowBook:oe,classes:a,handlePreviews:me,totalPage:H,handleNext:ie}),r.a.createElement(s.a,{className:"Product_Row"},K&&0===K.length?r.a.createElement(r.a.Fragment,null):K&&K.map((function(e,a){return r.a.createElement(u.a,{key:a,sm:"3 mb-5"},r.a.createElement(f.a,{once:!0,height:200},r.a.createElement(p.a,{className:"productCard border-0 bg-transparent"},r.a.createElement("div",{className:"productMedia mb-3 bgGray"},r.a.createElement(i.Link,{to:"/product/".concat(e.id)},r.a.createElement("img",{loading:"lazy",src:null!==e.cover_images?"".concat(e.cover_images.img_1):"",alt:""}))),r.a.createElement("div",{className:"productContent"},r.a.createElement(i.Link,{to:"/product/".concat(e.id)},r.a.createElement("h4",{className:"productTitle limit-character"},e.name)),r.a.createElement("h5",{className:"authorName"},e.book_author.name),r.a.createElement("p",{className:"productPrice"},"Ksh ",e.price||e.price_audiobook||e.price_epub||e.price_hardcover||e.price_pdf)))))}))),r.a.createElement(s.a,{className:"Pagination-Row mt-5"},r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},r.a.createElement("li",null,r.a.createElement("label",{htmlFor:""},"Sort By")),r.a.createElement("li",null,r.a.createElement("select",{className:"filterSelect form-control",value:ae,onChange:se},r.a.createElement("option",{value:""},"select"),r.a.createElement("option",{value:"Popular"},"Popular"),r.a.createElement("option",{value:"New"},"New"),r.a.createElement("option",{value:"Price: low to high"},"Price: low to high"),r.a.createElement("option",{value:"Price: high to low"},"Price: high to low"))))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"singleFilter d-flex align-items-center"},r.a.createElement("li",null,r.a.createElement("label",{htmlFor:""},"Show")),r.a.createElement("li",null,r.a.createElement("select",{name:"up-filter-select",className:"filterSelect form-control",value:Y.show,onChange:oe},r.a.createElement("option",{value:"20"},"20"),r.a.createElement("option",{value:"45"},"45"),r.a.createElement("option",{value:"100"},"100"))))),r.a.createElement("div",{className:"col"},r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination align-items-center justify-content-between"},r.a.createElement("li",{className:"page-item",onClick:me},r.a.createElement("button",{className:"page-link"},r.a.createElement("i",{className:"fas fa-chevron-left"}))),r.a.createElement("li",{className:"page-item ".concat(a.page_field)},"Page"),r.a.createElement("li",{className:"page-item ".concat(a.page_field)},r.a.createElement("input",{type:"text",className:"page-link",value:Y.page,readOnly:!0})),r.a.createElement("li",{className:"page-item"},"of"),r.a.createElement("li",{className:"page-item ".concat(a.page_field)},r.a.createElement("input",{type:"text",value:H||" 0",className:"page-link",readOnly:!0})),r.a.createElement("li",{className:"page-item",onClick:ie},r.a.createElement("button",{className:"page-link"},r.a.createElement("i",{className:"fas fa-chevron-right"}))))))))))))),r.a.createElement("section",{className:"mailSubscribe clearfix sectionBgImage sectionBgImg01 secGap",id:"mailSubscribe"},r.a.createElement(m.a,{className:"container"},r.a.createElement(k.a,null)))),r.a.createElement(g.a,{show:be,onHide:function(){return Ne(!1)},size:"lg",centered:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{callback:re}),r.a.createElement("h2",{className:"asideTitle"},"Sorting"),r.a.createElement(R,{sortBy:ae,handleSortBy:se,pagination:Y,handleShowBook:oe,classes:a,handlePreviews:me,totalPage:H,handleNext:ie}))),r.a.createElement(y.a,null)))}))}}]);
//# sourceMappingURL=28.5581ab46.chunk.js.map
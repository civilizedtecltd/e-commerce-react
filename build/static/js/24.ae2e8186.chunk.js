(this["webpackJsonpecommarce-apps"]=this["webpackJsonpecommarce-apps"]||[]).push([[24],{320:function(e,a,t){"use strict";var n=t(0),c=t.n(n),s=t(20),r=t(125),i=t(321);a.a=function(){return c.a.createElement(s.a,{sm:"2"},c.a.createElement("aside",{className:"userAsideBar pt-3 clearfix shadow",id:"userAsideBar"},c.a.createElement("nav",{className:"userNav"},c.a.createElement("ul",{className:"userNavBar"},i.map((function(e,a){return c.a.createElement(r.a,{key:a,NavItem:e.nav_item,ClassName:e.class,Title:e.title,Url:e.url,IconName:e.icon_name,ActiveClassName:e.active_link})}))))))}},321:function(e){e.exports=JSON.parse('[{"nav_item":"nav-item","url":"my-order","icon_name":"fas fa-clipboard-list","title":"My orders","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"payment-methods","icon_name":"fas fa-wallet","title":"Payment methods","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"profile-settings","icon_name":"fas fa-cog","title":"Profile settings","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"email-subscription","icon_name":"far fa-envelope","title":"Email subscription","class":"nav-link","active_link":"active"},{"nav_item":"nav-item","url":"logout","icon_name":"fas fa-sign-out-alt","title":"Log out","class":"nav-link","active_link":"active"}]')},390:function(e,a,t){"use strict";t.r(a);var n=t(118),c=t(97),s=t.n(c),r=t(119),i=t(3),l=t(15),m=t(0),o=t.n(m),u=t(55),b=t(56),p=t(20),f=t(180),v=t(117),h=t(306),d=t(179),k=t(63),E=t(64),g=t(11),_=t(320),w=t(96),y=t(8),N=t.n(y),C=t(10),O=t(69);a.default=Object(g.b)((function(e){return{cart:e.shop.cart,favorite:e.favorite,auth:e.auth.user,subscribeOption:e.site.subscriptions,pending:e.site.pending}}),(function(e){return{AllSubscriptions:function(a){return e(Object(O.b)(a))},setSubscriptions:function(a){return e(Object(O.d)(a))}}}))((function(e){var a=e.auth,t=e.AllSubscriptions,c=e.pending,g=e.subscribeOption,y=Object(m.useState)(!1),O=Object(l.a)(y,2),x=O[0],S=O[1],j=Object(m.useState)({show:!1,type:"unknown",message:""}),A=Object(l.a)(j,2),I=A[0],B=A[1],G=Object(i.a)({},g);Object(m.useEffect)((function(){Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a.email);case 1:case"end":return e.stop()}}),e)})))()}),[a.email,x,t]);var T=function(a){if("unsubscribe"===a.target.name&&a.target.checked)return e.setSubscriptions({announcement:!1,sale_invitation:!1,weekly_newsletter:!1,unsubscribe:!0});e.setSubscriptions(Object(i.a)(Object(i.a)({},G),{},Object(n.a)({},a.target.name,a.target.checked)))},M=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),N.a.post(C.a.__SET_SUBSCRIPTIONS,{email:a.email,subscriber_id:a.id,announcement:G.announcement,sale_invitation:G.sale_invitation,weekly_newsletter:G.weekly_newsletter,unsubscribe:G.unsubscribe}).then((function(e){B({show:!0,type:"success",message:e.data.message}),S(!0),setTimeout((function(){B({show:!1,type:"unknown",message:""})}),5e3)})).catch((function(e){e.response&&(B({show:!0,type:"danger",message:e.response.data.message}),S(!1),setTimeout((function(){B({show:!1,type:"unknown",message:""})}),5e3))}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=e.cart.length,J=e.favorite.items.length;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{loading:c}),o.a.createElement("div",{className:"allWrapper"},o.a.createElement(k.a,{favorite_item:J,cartItem:P,menuActive:!0}),o.a.createElement(E.a,{favorite_item:J,cartItem:P,menuActive:!0}),o.a.createElement("div",{className:"userBodyArea clearfix",id:"userBodyArea"},o.a.createElement(u.a,{fluid:!0,className:"pl-0 pr-0"},o.a.createElement(b.a,{noGutters:!0},o.a.createElement(_.a,null),o.a.createElement(p.a,null,o.a.createElement("main",{className:"userMainContent clearfix bgImage bgImg03",id:"userMainContent"},o.a.createElement("section",{className:"myOrderArea secGap clearfix",id:"myOrderArea"},o.a.createElement(u.a,{fluid:!0},o.a.createElement(b.a,null,o.a.createElement(p.a,{sm:"12"},o.a.createElement(f.a,null,o.a.createElement(f.a.Body,{className:"pt-5"},o.a.createElement("h2",{className:"cardSecTitle mb-3"},"Manage email subscription"),o.a.createElement("h5",{className:"cardSubtitle mb-2"},"Please choose which types of emails you would like to receive from us"),o.a.createElement(v.a,{className:"profileSettingsForm",onSubmit:M},o.a.createElement(b.a,null,o.a.createElement(p.a,{sm:"12"},o.a.createElement(v.a.Group,{controlId:"formCheckbox1",className:"formCheckbox mt-2"},o.a.createElement(v.a.Check,{type:"checkbox",label:"Announcements",name:"announcement",disabled:G.unsubscribe&&!0,checked:G.announcement,onChange:T}))),o.a.createElement(p.a,{sm:"12"},o.a.createElement(v.a.Group,{controlId:"formCheckbox2",className:"formCheckbox mt-2"},o.a.createElement(v.a.Check,{type:"checkbox",label:"Sale invitations",name:"sale_invitation",disabled:G.unsubscribe&&!0,checked:G.sale_invitation,onChange:T}))),o.a.createElement(p.a,{sm:"12"},o.a.createElement(v.a.Group,{controlId:"formCheckbox3",className:"formCheckbox mt-2"},o.a.createElement(v.a.Check,{type:"checkbox",label:"Weekly Newsletter",name:"weekly_newsletter",disabled:G.unsubscribe&&!0,checked:G.weekly_newsletter,onChange:T}))),o.a.createElement(p.a,{sm:"12"},o.a.createElement(v.a.Group,{controlId:"formCheckbox4",className:"formCheckbox mt-2"},o.a.createElement(v.a.Check,{type:"checkbox",label:"Unsubscribe",name:"unsubscribe",checked:G.unsubscribe,onChange:T}))),o.a.createElement(p.a,{sm:"12"},o.a.createElement(h.a,{className:"mt-3",type:"submit",name:"save"},"Save")))))))),o.a.createElement(d.a,{show:I.show,variant:I.type,onClose:function(){return B(Object(i.a)(Object(i.a)({},I),{},{show:!1}))},dismissible:!0},o.a.createElement("p",null,I.message)))))))))))}))}}]);
//# sourceMappingURL=24.ae2e8186.chunk.js.map